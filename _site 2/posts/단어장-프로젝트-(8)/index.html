<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" >
  <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4791588234419923"
     crossorigin="anonymous"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="단어장 프로젝트 (8)" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="예외처리" />
<meta property="og:description" content="예외처리" />
<link rel="canonical" href="http://localhost:4000/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(8)/" />
<meta property="og:url" content="http://localhost:4000/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(8)/" />
<meta property="og:site_name" content="Harold`s DLog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-05-21T10:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="단어장 프로젝트 (8)" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="google-site-verification" content="AW90BDnepHsDdmQ6OaGtfM4bGYM_XM-4atRcFmERHVY" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-05-21T10:00:00+09:00","datePublished":"2024-05-21T10:00:00+09:00","description":"예외처리","headline":"단어장 프로젝트 (8)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(8)/"},"url":"http://localhost:4000/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(8)/"}</script>
<!-- End Jekyll SEO tag -->


  <title>단어장 프로젝트 (8) | Harold`s DLog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Harold`s DLog">
<meta name="application-name" content="Harold`s DLog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://polyfill.io" >
      <link rel="dns-prefetch" href="https://polyfill.io" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->
<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
  <!-- .sidebar-badge -->
    <a href="/" id="avatar" class="rounded-circle"><img src="https://i.ibb.co/SQtS8n8/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Harold`s DLog</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">토프레와 애플을 좋아하는 사람의 Daily, Dev Log</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>태그</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>아카이브</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>정보</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>
  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/haroldfromk"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dongik369','naver.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">홈</a>
            </span>

          
        
          
        
          
            
              <span>단어장 프로젝트 (8)</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      포스트
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>단어장 프로젝트 (8)</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        게시
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1716253200"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2024/05/21
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/haroldfromk">Dongik Song</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3608 단어"
>
  <em>20 분</em>읽는 시간</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="예외처리"><span class="me-2">예외처리</span><a href="#예외처리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">gameStart</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">failCount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">isGameEnd</span> <span class="o">=</span> <span class="kc">false</span>
        
        <span class="k">if</span> <span class="o">!</span><span class="n">labelList</span><span class="o">.</span><span class="n">isEmpty</span> <span class="p">{</span>
            <span class="nf">resetLabel</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="n">hangManBottomView</span> <span class="o">=</span> <span class="kt">HangManBottomView</span><span class="p">()</span>
        
        <span class="n">vStackView</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">hangManBottomView</span><span class="o">!</span><span class="p">)</span>
        
        <span class="n">hangManBottomView</span><span class="o">!.</span><span class="n">snp</span><span class="o">.</span><span class="n">makeConstraints</span> <span class="p">{</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="nf">equalTo</span><span class="p">(</span><span class="n">hangManBodyView</span><span class="o">.</span><span class="n">snp</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">leading</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">trailing</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span><span class="o">.</span><span class="nf">offset</span><span class="p">(</span><span class="o">-</span><span class="mi">60</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">currentCount</span> <span class="o">&lt;</span> <span class="n">quizArray</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">word</span><span class="o">!</span>
            <span class="nf">makeWordLabel</span><span class="p">(</span><span class="nv">word</span><span class="p">:</span> <span class="n">answer</span><span class="p">)</span>
            
            <span class="nf">updateUI</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">alertController</span><span class="o">.</span><span class="nf">makeNormalAlert</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"게임종료"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"게임이 끝났습니다."</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>지금은 심플하게 이렇게 구현해두었다.</p>

<h2 id="게임-기록-페이지-구현"><span class="me-2">게임 기록 페이지 구현</span><a href="#게임-기록-페이지-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>게임 기록 페이지를 만들어본다.</p>

<p>우선 기능구현이 우선이기에 디자인은 심플하게 해둘 예정이며.</p>

<p>UISegmentController를 사용해볼 예정.</p>

<p>해당부분을 코드로 구현해본적은 없는것같아. 기록해두려 한다.</p>

<p>기록하기엔 생각보다 property가 없어서</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">segControl</span><span class="p">:</span> <span class="kt">UISegmentedControl</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">control</span> <span class="o">=</span> <span class="kt">UISegmentedControl</span><span class="p">(</span><span class="nv">items</span><span class="p">:</span> <span class="p">[</span><span class="s">"Quiz"</span><span class="p">,</span> <span class="s">"HangMan"</span><span class="p">])</span>
        <span class="n">control</span><span class="o">.</span><span class="n">selectedSegmentIndex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">control</span>
    <span class="p">}()</span>
</pre></td></tr></tbody></table></code></div></div>

<p>우선은 이렇게 기본세팅만 한다.</p>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/8c097070-0bf5-4077-bb08-94c27ad783eb" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/8c097070-0bf5-4077-bb08-94c27ad783eb" alt="Simulator Screenshot - iPhone 15 Pro - 2024-05-18 at 15 24 36" width="50%" height="50%" loading="lazy"></a></p>

<p>위에서 언급한대로 특이점은 바로</p>

<p>Segcontrol이 있다는 것.</p>

<p>이전에는 StoryBoard를 통해 IBAction으로 바로 따와서 sender를 통해 값의 변화를 감지 할 수 있었다.</p>

<p>하지만 지금은 sender를 가져올수가 없다.</p>

<p>왜냐 현재 구성한 VC는 Header, BodyView를 가져오고</p>

<p>각각의 View들 안에 UIComponent가 있기 때문.</p>

<p>Segcontrol만 seg의 변화에 따라 해당 index를 출력하게 끔 테스트를 해서 작동이 되면 그다음에 다른 로직을 구현 하면 될것같다.</p>

<p>우선 다음과 같은 함수를 만들어 주었다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">changeSegment</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">selectedIndex</span> <span class="o">=</span> <span class="n">recordBodyView</span><span class="o">.</span><span class="n">segControl</span><span class="o">.</span><span class="n">selectedSegmentIndex</span>
        <span class="k">switch</span> <span class="n">selectedIndex</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"select 0"</span><span class="p">)</span>
        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"select 1"</span><span class="p">)</span>
        <span class="k">default</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>하지만 VC에서는 작동이 되질않았다.</p>

<p>그냥 처음에 ViewDidload나 ViewDidapper 같은 VC의 생명주기를 고려하여 해당 함수를 트리거 해서 작동을 확인 해보려 했으나 되지 않았다.</p>

<p>이게 VC에서 해야하는걸까? 라는 생각이 들었다.</p>

<p>view에서 addAction 통해 클로저로 구현 하면 어떨까라는 생각이 들었고 그걸 해보려한다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">segControl</span><span class="p">:</span> <span class="kt">UISegmentedControl</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">control</span> <span class="o">=</span> <span class="kt">UISegmentedControl</span><span class="p">(</span><span class="nv">items</span><span class="p">:</span> <span class="p">[</span><span class="s">"Quiz"</span><span class="p">,</span> <span class="s">"HangMan"</span><span class="p">])</span>
        <span class="n">control</span><span class="o">.</span><span class="n">selectedSegmentIndex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">control</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAction</span><span class="p">(</span><span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
            <span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="n">control</span><span class="o">.</span><span class="n">selectedSegmentIndex</span>
            <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">changeIndex</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="n">index</span><span class="p">)</span>
        <span class="p">}),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">valueChanged</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">control</span>
    <span class="p">}()</span>
</pre></td></tr></tbody></table></code></div></div>

<p>다음과 같이 action을 만들어 준다,</p>

<p>이젠 작동을 한다.</p>

<p>물론 해당 방식을 응용해서</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">addSegAction</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">recordBodyView</span><span class="o">.</span><span class="n">segControl</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAction</span><span class="p">(</span><span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">recordBodyView</span><span class="o">.</span><span class="n">segControl</span><span class="o">.</span><span class="n">selectedSegmentIndex</span><span class="p">)</span>
        <span class="p">}),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">valueChanged</span><span class="p">)</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>VC에 이렇게 적어도 작동은 한다.</p>

<p>혹시나 메모리 누수가 있을까 싶어 확인했지만 그건 없는듯 하다.</p>

<p>cell을 만들어주고,</p>

<p>이번 TableView는 Diffable Datasource를 적용한다.</p>

<p>섹션을 만들어준다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kd">enum</span> <span class="kt">DiffableSection</span> <span class="p">{</span>
    
    <span class="k">case</span> <span class="n">quiz</span>
    <span class="k">case</span> <span class="n">hangMan</span>
    
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그리고 모델이 필요할거 같아서 별도로 레코드 모델을 만들어 준다.</p>

<h2 id="데이터-결정"><span class="me-2">데이터 결정</span><a href="#데이터-결정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>단순히 게임횟수보다는 게임을 했을때 틀린단어를 보여주는게 좋겠다고 팀회의로 결정.</p>

<h2 id="api-구현"><span class="me-2">Api 구현</span><a href="#api-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">NetworkManager</span> <span class="p">{</span>
    
    
    <span class="kd">func</span> <span class="nf">fetchRequest</span> <span class="p">(</span><span class="nv">query</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">complete</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">TranslatedModel</span><span class="p">,</span><span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="s">"https://api-free.deepl.com/v2/translate"</span>
        <span class="k">let</span> <span class="nv">header</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Authorization"</span> <span class="p">:</span> <span class="s">"DeepL-Auth-Key </span><span class="se">\(</span><span class="kt">Secret</span><span class="o">.</span><span class="n">apiKey</span><span class="se">)</span><span class="s">"</span><span class="p">]</span>
        <span class="k">let</span> <span class="nv">component</span> <span class="o">=</span> <span class="p">[</span><span class="kt">URLQueryItem</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"text"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="n">query</span><span class="p">),</span> <span class="kt">URLQueryItem</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"target_lang"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="s">"KO"</span><span class="p">)]</span>
        <span class="k">var</span> <span class="nv">urlComponent</span> <span class="o">=</span> <span class="kt">URLComponents</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">urlComponent</span><span class="p">?</span><span class="o">.</span><span class="n">queryItems</span> <span class="o">=</span> <span class="n">component</span>
        
        <span class="k">if</span> <span class="k">let</span> <span class="nv">urlRequest</span> <span class="o">=</span> <span class="n">urlComponent</span><span class="p">?</span><span class="o">.</span><span class="n">url</span> <span class="p">{</span>
            <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">urlRequest</span><span class="p">)</span>
            <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
            <span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">header</span>
            
            <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span>
            <span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">e</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
                    <span class="nf">complete</span><span class="p">(</span><span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="p">}</span>
                
                <span class="k">if</span> <span class="k">let</span> <span class="nv">safeData</span> <span class="o">=</span> <span class="n">data</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="k">let</span> <span class="nv">decodedData</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="kt">JSONDecoder</span><span class="p">()</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="kt">TranslatedModel</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="n">safeData</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nf">complete</span><span class="p">(</span><span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">decodedData</span><span class="p">))</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>딱히 할말이 없다.</p>

<p>Combine style로 변경</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">NetworkManager</span> <span class="p">{</span>
    
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">cancellables</span> <span class="o">=</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">AnyCancellable</span><span class="o">&gt;</span><span class="p">()</span>
    
    <span class="kd">func</span> <span class="nf">fetchRequest</span> <span class="p">(</span><span class="nv">query</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">Translation</span><span class="p">],</span> <span class="kt">Error</span><span class="o">&gt;</span> <span class="p">{</span>
        
        <span class="k">return</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">Translation</span><span class="p">],</span> <span class="kt">Error</span><span class="o">&gt;</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">promise</span> <span class="k">in</span>
            
            <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="s">"https://api-free.deepl.com/v2/translate"</span>
            <span class="k">let</span> <span class="nv">header</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Authorization"</span> <span class="p">:</span> <span class="s">"DeepL-Auth-Key </span><span class="se">\(</span><span class="kt">Secret</span><span class="o">.</span><span class="n">apiKey</span><span class="se">)</span><span class="s">"</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">component</span> <span class="o">=</span> <span class="p">[</span><span class="kt">URLQueryItem</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"text"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="n">query</span><span class="p">),</span> <span class="kt">URLQueryItem</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"target_lang"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="s">"KO"</span><span class="p">)]</span>
            <span class="k">var</span> <span class="nv">urlComponent</span> <span class="o">=</span> <span class="kt">URLComponents</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
            <span class="n">urlComponent</span><span class="p">?</span><span class="o">.</span><span class="n">queryItems</span> <span class="o">=</span> <span class="n">component</span>
            
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">urlRequest</span> <span class="o">=</span> <span class="n">urlComponent</span><span class="p">?</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">return</span>
            <span class="p">}</span>

            <span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">urlRequest</span><span class="p">)</span>
            <span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
            <span class="n">request</span><span class="o">.</span><span class="n">allHTTPHeaderFields</span> <span class="o">=</span> <span class="n">header</span>
            <span class="k">let</span> <span class="nv">session</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span>
            
            <span class="n">session</span><span class="o">.</span><span class="nf">dataTaskPublisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">map</span><span class="p">(\</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="p">[</span><span class="kt">Translation</span><span class="p">]</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">decoder</span><span class="p">:</span> <span class="kt">JSONDecoder</span><span class="p">())</span>
                <span class="o">.</span><span class="nf">eraseToAnyPublisher</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">replaceError</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="p">[])</span>
                <span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="n">data</span> <span class="k">in</span>
                    <span class="nf">promise</span><span class="p">(</span><span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
                <span class="p">}</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">self</span><span class="o">!.</span><span class="n">cancellables</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>이번에는 MVVM이 아니라서 VC에 직접 구현해야할듯싶다.</p>

<h2 id="textfield-값-가져오기"><span class="me-2">textfield 값 가져오기</span><a href="#textfield-값-가져오기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>textfield에 대한 값을 가져오기 위해 extension을 사용</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">extension</span> <span class="kt">UITextField</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">textPublisher</span><span class="p">:</span> <span class="kt">AnyPublisher</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Never</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span>
            <span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="kt">UITextField</span><span class="o">.</span><span class="n">textDidChangeNotification</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="p">(</span><span class="nv">$0</span><span class="o">.</span><span class="n">object</span> <span class="k">as?</span> <span class="kt">UITextField</span><span class="p">)?</span><span class="o">.</span><span class="n">text</span>  <span class="p">??</span> <span class="s">""</span> <span class="p">}</span>
            <span class="o">.</span><span class="nf">eraseToAnyPublisher</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">observe</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">wordTextField</span><span class="o">.</span><span class="n">textPublisher</span><span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="n">value</span> <span class="k">in</span>
            <span class="nf">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게하면 출력이 된다.</p>

<p>그냥 간단하게 작동만 되게 구현한다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">observe</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">wordTextField</span><span class="o">.</span><span class="n">textPublisher</span>
            <span class="o">.</span><span class="nf">debounce</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">scheduler</span><span class="p">:</span> <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="p">)</span>
            <span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">value</span> <span class="k">in</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">networkManager</span><span class="o">.</span><span class="nf">fetchRequest</span><span class="p">(</span><span class="nv">query</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
                    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="n">completion</span> <span class="k">in</span>
                        <span class="k">switch</span> <span class="n">completion</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="o">.</span><span class="nv">finished</span><span class="p">:</span>
                            <span class="k">return</span>
                        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>
                            <span class="k">return</span>
                        <span class="p">}</span>
                    <span class="p">},</span> <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{</span> <span class="n">documents</span> <span class="k">in</span>
                        <span class="k">self</span><span class="o">!.</span><span class="n">result</span> <span class="o">=</span> <span class="n">documents</span><span class="o">.</span><span class="n">first</span><span class="o">!</span>
                    <span class="p">})</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="k">self</span><span class="o">!.</span><span class="n">cancellables</span><span class="p">)</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="diffable-datasourece-사용"><span class="me-2">Diffable Datasourece 사용.</span><a href="#diffable-datasourece-사용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="nv">tableDatasource</span><span class="p">:</span> <span class="kt">UITableViewDiffableDataSource</span><span class="o">&lt;</span><span class="kt">DiffableSectionModel</span><span class="p">,</span> <span class="kt">Translation</span><span class="o">&gt;</span><span class="p">?</span>
<span class="k">var</span> <span class="nv">tableSnapshot</span><span class="p">:</span> <span class="kt">NSDiffableDataSourceSnapshot</span><span class="o">&lt;</span><span class="kt">DiffableSectionModel</span><span class="p">,</span> <span class="kt">Translation</span><span class="o">&gt;</span><span class="p">?</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 만들어주고.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kd">extension</span> <span class="kt">InsertVocaViewController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">configureDiffableDataSource</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">tableDatasource</span> <span class="o">=</span> <span class="kt">UITableViewDiffableDataSource</span><span class="p">(</span><span class="nv">tableView</span><span class="p">:</span> <span class="n">resultTable</span><span class="p">,</span> <span class="nv">cellProvider</span><span class="p">:</span> <span class="p">{</span> <span class="n">tableView</span><span class="p">,</span> <span class="n">indexPath</span><span class="p">,</span> <span class="n">model</span> <span class="k">in</span>
            
            <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="n">tableView</span><span class="o">.</span><span class="nf">dequeueReusableCell</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="kt">Constants</span><span class="o">.</span><span class="n">resultCell</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span> <span class="k">as!</span> <span class="kt">ResultTableViewCell</span>
            
            <span class="n">cell</span><span class="o">.</span><span class="n">wordLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">text</span>
            <span class="n">cell</span><span class="o">.</span><span class="n">selectionStyle</span> <span class="o">=</span> <span class="o">.</span><span class="k">none</span>
            
            <span class="k">return</span> <span class="n">cell</span>
        <span class="p">})</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">configureSnapshot</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">tableSnapshot</span> <span class="o">=</span> <span class="kt">NSDiffableDataSourceSnapshot</span><span class="o">&lt;</span><span class="kt">DiffableSectionModel</span><span class="p">,</span> <span class="kt">Translation</span><span class="o">&gt;</span><span class="p">()</span>
        <span class="n">tableSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">deleteAllItems</span><span class="p">()</span>
        <span class="n">tableSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendSections</span><span class="p">([</span><span class="o">.</span><span class="n">requestResult</span><span class="p">])</span>
        <span class="n">tableSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendItems</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

        <span class="n">tableDatasource</span><span class="p">?</span><span class="o">.</span><span class="nf">apply</span><span class="p">(</span><span class="n">tableSnapshot</span><span class="o">!</span><span class="p">,</span><span class="nv">animatingDifferences</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
    
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 적용하게 했다.</p>

<p>그리고 셀을 선택했을때 textField에 들어가게 해야하므로</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">resultTable</span><span class="p">:</span> <span class="kt">UITableView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">table</span> <span class="o">=</span> <span class="kt">UITableView</span><span class="p">()</span>
        <span class="n">table</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="kt">ResultTableViewCell</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">forCellReuseIdentifier</span><span class="p">:</span> <span class="kt">Constants</span><span class="o">.</span><span class="n">resultCell</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">didSelectRowPublisher</span><span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">indexPath</span> <span class="k">in</span>
            <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">definitionTextField</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>
    <span class="p">}()</span>
</pre></td></tr></tbody></table></code></div></div>

<p>combinecocoa를 사용했다.</p>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/9685d25b-70f7-4375-95cb-3e4dbc3c9c93" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/9685d25b-70f7-4375-95cb-3e4dbc3c9c93" alt="May-21-2024 17-54-23" width="50%" height="50%" loading="lazy"></a></p>

<p>이전에도 느꼈지만 컴바인과 디퍼블은 최고의 조합이다.</p>

<h2 id="기록-로직-구현"><span class="me-2">기록 로직 구현</span><a href="#기록-로직-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>여기에도 디퍼블을 사용할 예정인데,</p>

<p>데이터를 저장을 해야한다.</p>

<p>현재 recordVC에</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">addSegAction</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">recordBodyView</span><span class="o">.</span><span class="n">segControl</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAction</span><span class="p">(</span><span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">unowned</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
            <span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="n">recordBodyView</span><span class="o">.</span><span class="n">segControl</span><span class="o">.</span><span class="n">selectedSegmentIndex</span>
            <span class="nf">print</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="p">}),</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">valueChanged</span><span class="p">)</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이녀석이 있는데 index값이 변화한다.</p>

<p>이 index값을 이용해서 소팅을 하면 될듯하다.</p>

<p>해당 데이터를 모델링을 먼저 하면 될듯한데.</p>

<p>index 번호와 단어, 그리고 뜻 이렇게 3개만 있으면 충분할것으로 보여서 모델링을 먼저 한다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kd">struct</span> <span class="kt">ReminderModel</span> <span class="p">{</span>
    
    <span class="k">var</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">word</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">meaning</span><span class="p">:</span> <span class="kt">String</span>
    
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="1-quizvc에-notificationcenter-등록"><span class="me-2">1. QuizVC에 NotificationCenter 등록.</span><a href="#1-quizvc에-notificationcenter-등록" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>우선 다음과 같이 등록
<code class="language-plaintext highlighter-rouge">static let inCorrect = Notification.Name("inCorrect")</code></p>

<p>이걸 받을 vc에 observer를 등록해준다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">addObserver</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">getData</span><span class="p">),</span> <span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">inCorrect</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

<span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">getData</span><span class="p">(</span><span class="n">_</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">Notification</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">notification</span><span class="o">.</span><span class="n">object</span> <span class="k">as?</span> <span class="kt">ReminderModel</span> <span class="p">{</span>
            <span class="n">dataList</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="2-관련-view에-등록"><span class="me-2">2. 관련 view에 등록</span><a href="#2-관련-view에-등록" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>그리고 문제 정답과 오답을 판별하는 함수가 있는 quizbottomview에 notificationcenter 등록</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">checkAnswer</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">flag</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">currentVC</span> <span class="o">=</span> <span class="n">currentViewController</span> <span class="k">as?</span> <span class="kt">QuizViewController</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="n">flag</span> <span class="p">}</span>
        <span class="k">let</span> <span class="nv">currentQuestion</span> <span class="o">=</span> <span class="n">currentVC</span><span class="o">.</span><span class="n">quizBodyView</span><span class="o">.</span><span class="n">gameTitle</span><span class="o">.</span><span class="n">text</span>
        <span class="k">let</span> <span class="nv">gameArray</span> <span class="o">=</span> <span class="n">currentVC</span><span class="o">.</span><span class="n">quizData</span>
        <span class="k">let</span> <span class="nv">answer</span> <span class="o">=</span> <span class="n">gameArray</span><span class="o">.</span><span class="n">filter</span><span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">question</span> <span class="o">==</span> <span class="n">currentQuestion</span> <span class="p">}</span><span class="o">.</span><span class="n">map</span><span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">answer</span> <span class="p">}</span><span class="o">.</span><span class="nf">joined</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">title</span> <span class="o">==</span> <span class="n">answer</span> <span class="p">{</span>
            <span class="n">currentVC</span><span class="o">.</span><span class="n">currentNumber</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">currentVC</span><span class="o">.</span><span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">currentVC</span><span class="o">.</span><span class="nf">gameStart</span><span class="p">()</span>
            <span class="n">flag</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// added</span>
            <span class="k">let</span> <span class="nv">currentData</span> <span class="o">=</span> <span class="n">currentVC</span><span class="o">.</span><span class="n">quizData</span><span class="p">[</span><span class="n">currentVC</span><span class="o">.</span><span class="n">currentNumber</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">ReminderModel</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">word</span><span class="p">:</span> <span class="n">currentData</span><span class="o">.</span><span class="n">question</span><span class="p">,</span> <span class="nv">meaning</span><span class="p">:</span> <span class="n">currentData</span><span class="o">.</span><span class="n">answer</span><span class="p">)</span>
            <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">post</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">inCorrect</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">currentVC</span><span class="o">.</span><span class="n">currentNumber</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">currentVC</span><span class="o">.</span><span class="nf">gameStart</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">flag</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그리고 또 hangman에도 있기에 심어둔다.</p>

<p>이건 게임이 끝났을때 이므로</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">updateUI</span> <span class="p">()</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="n">failCount</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="p">{</span>
            <span class="n">hangManBodyView</span><span class="o">.</span><span class="n">hangManImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="n">imageList</span><span class="p">[</span><span class="n">failCount</span><span class="p">])</span>
            <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">alertController</span><span class="o">.</span><span class="nf">makeAlertWithCompletion</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"게임종료"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"게임이 끝났습니다.</span><span class="se">\n</span><span class="s">다시 시작하시겠습니까?"</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">hangManBottomView</span><span class="p">?</span><span class="o">.</span><span class="nf">removeFromSuperview</span><span class="p">()</span>
                
                <span class="c1">// added</span>
                <span class="k">guard</span> <span class="k">let</span> <span class="nv">word</span> <span class="o">=</span> <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">quizArray</span><span class="p">[</span><span class="k">self</span><span class="o">!.</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="k">let</span> <span class="nv">meaning</span> <span class="o">=</span> <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">quizArray</span><span class="p">[</span><span class="k">self</span><span class="o">!.</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">return</span>
                <span class="p">}</span>
                
                <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">ReminderModel</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">word</span><span class="p">:</span> <span class="n">word</span><span class="p">,</span> <span class="nv">meaning</span><span class="p">:</span> <span class="n">meaning</span><span class="p">)</span>
                <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">post</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">inCorrect</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span>
                
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">resetLabel</span><span class="p">()</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">currentCount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">gameStart</span><span class="p">()</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">isGameEnd</span> <span class="o">=</span> <span class="kc">false</span>
            <span class="p">}</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
            <span class="n">isGameEnd</span> <span class="o">=</span> <span class="kc">true</span>
            
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">hangManBodyView</span><span class="o">.</span><span class="n">hangManImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="n">imageList</span><span class="p">[</span><span class="n">failCount</span><span class="p">])</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 등록.</p>

<p>하지만 recordvc가 호출이 되지않아 넘어가지않는 상황이 발생하여 우회를 하기로 결정</p>

<p>gaimmainvc에서 받아서 화면 전환시 넘기기로 했다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">addObserver</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">getData</span><span class="p">),</span> <span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">quiz</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">addObserver</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">selector</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">getData</span><span class="p">),</span> <span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">hangman</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

<span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">getData</span><span class="p">(</span><span class="n">_</span> <span class="nv">notification</span><span class="p">:</span> <span class="kt">Notification</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">notification</span><span class="o">.</span><span class="n">object</span> <span class="k">as?</span> <span class="kt">ReminderModel</span> <span class="p">{</span>
            <span class="c1">//print(data)</span>
            <span class="n">dataList</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="diffabledatasource-구현"><span class="me-2">DiffableDatasource 구현</span><a href="#diffabledatasource-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>고차함수인 filter와 map을 사용하여 각 인덱스에 해당하는 것만 적용하게 한다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="kd">extension</span> <span class="kt">RecordViewController</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">configureDiffableDataSource</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">tableDiffableDatasoure</span> <span class="o">=</span> <span class="kt">UITableViewDiffableDataSource</span><span class="p">(</span><span class="nv">tableView</span><span class="p">:</span> <span class="n">recordBodyView</span><span class="o">.</span><span class="n">tableView</span><span class="p">,</span> <span class="nv">cellProvider</span><span class="p">:</span> <span class="p">{</span> <span class="n">tableView</span><span class="p">,</span> <span class="n">indexPath</span><span class="p">,</span> <span class="n">model</span> <span class="k">in</span>
            
            <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="n">tableView</span><span class="o">.</span><span class="nf">dequeueReusableCell</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="kt">Constants</span><span class="o">.</span><span class="n">recordCell</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span> <span class="k">as!</span> <span class="kt">RecordTableViewCell</span>
            
            <span class="n">cell</span><span class="o">.</span><span class="n">wordLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">word</span>
            <span class="n">cell</span><span class="o">.</span><span class="n">meaningLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">meaning</span>
            
            <span class="n">cell</span><span class="o">.</span><span class="n">selectionStyle</span> <span class="o">=</span> <span class="o">.</span><span class="k">none</span>
            
            <span class="k">return</span> <span class="n">cell</span>
        <span class="p">})</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">configureQuizSnapshot</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">quizSnapshot</span> <span class="o">=</span> <span class="kt">NSDiffableDataSourceSnapshot</span><span class="o">&lt;</span><span class="kt">DiffableSectionModel</span><span class="p">,</span> <span class="kt">ReminderModel</span><span class="o">&gt;</span><span class="p">()</span>
        <span class="n">quizSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">deleteAllItems</span><span class="p">()</span>
        <span class="n">quizSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendSections</span><span class="p">([</span><span class="o">.</span><span class="n">quiz</span><span class="p">])</span>
        <span class="n">quizSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendItems</span><span class="p">(</span><span class="n">dataList</span><span class="o">.</span><span class="n">filter</span><span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">}</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span> <span class="p">)</span>

        <span class="n">tableDiffableDatasoure</span><span class="p">?</span><span class="o">.</span><span class="nf">apply</span><span class="p">(</span><span class="n">quizSnapshot</span><span class="o">!</span><span class="p">,</span><span class="nv">animatingDifferences</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">configureHangmanSnapshot</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">hangmanSnapshot</span> <span class="o">=</span> <span class="kt">NSDiffableDataSourceSnapshot</span><span class="o">&lt;</span><span class="kt">DiffableSectionModel</span><span class="p">,</span> <span class="kt">ReminderModel</span><span class="o">&gt;</span><span class="p">()</span>
        <span class="n">hangmanSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">deleteAllItems</span><span class="p">()</span>
        <span class="n">hangmanSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendSections</span><span class="p">([</span><span class="o">.</span><span class="n">hangman</span><span class="p">])</span>
        <span class="n">hangmanSnapshot</span><span class="p">?</span><span class="o">.</span><span class="nf">appendItems</span><span class="p">(</span><span class="n">dataList</span><span class="o">.</span><span class="n">filter</span><span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">}</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">})</span>

        <span class="n">tableDiffableDatasoure</span><span class="p">?</span><span class="o">.</span><span class="nf">apply</span><span class="p">(</span><span class="n">hangmanSnapshot</span><span class="o">!</span><span class="p">,</span><span class="nv">animatingDifferences</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>중복에러가 나서 어딘가 했는데</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">updateUI</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">word</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="k">let</span> <span class="nv">meaning</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">ReminderModel</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">word</span><span class="p">:</span> <span class="n">word</span><span class="p">,</span> <span class="nv">meaning</span><span class="p">:</span> <span class="n">meaning</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">failCount</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="p">{</span>
            <span class="n">hangManBodyView</span><span class="o">.</span><span class="n">hangManImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="n">imageList</span><span class="p">[</span><span class="n">failCount</span><span class="p">])</span>
            <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">alertController</span><span class="o">.</span><span class="nf">makeAlertWithCompletion</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"게임종료"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"게임이 끝났습니다.</span><span class="se">\n</span><span class="s">다시 시작하시겠습니까?"</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">hangManBottomView</span><span class="p">?</span><span class="o">.</span><span class="nf">removeFromSuperview</span><span class="p">()</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">resetLabel</span><span class="p">()</span>
                 <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">post</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">hangman</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span> <span class="c1">// wrong</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">currentCount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">gameStart</span><span class="p">()</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">isGameEnd</span> <span class="o">=</span> <span class="kc">false</span>
            <span class="p">}</span>
            <span class="kt">NotificationCenter</span><span class="o">.</span><span class="k">default</span><span class="o">.</span><span class="nf">post</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="o">.</span><span class="n">hangman</span><span class="p">,</span> <span class="nv">object</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span> <span class="c1">// correct</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
            <span class="n">isGameEnd</span> <span class="o">=</span> <span class="kc">true</span>
            
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">hangManBodyView</span><span class="o">.</span><span class="n">hangManImageView</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="n">imageList</span><span class="p">[</span><span class="n">failCount</span><span class="p">])</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>wrong이라고 쓴곳이 잘못되었다.</p>

<p>취소를 염두하고 아래에도 쓴게 화근이었다.</p>

<p>생각해보니 확인이나 취소를 눌러도 무조건 등록이 되어야하기에 correct 부분에 넣는게 맞다.</p>

<p>하지만 단점은 디퍼블은 Hashable이라서 중복값이 있어서는 안된다. 그것을 방지하기위해 set으로 한번 걸러낸다.</p>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/c1ba8e18-46b0-4761-9e55-1732170a1dac" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/c1ba8e18-46b0-4761-9e55-1732170a1dac" alt="May-22-2024 00-36-23" width="50%" height="50%" loading="lazy"></a></p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre> <span class="kd">func</span> <span class="nf">removeDuplicate</span> <span class="p">()</span> <span class="p">{</span>
        <span class="n">dataList</span> <span class="o">=</span> <span class="kt">Array</span><span class="p">(</span><span class="kt">Set</span><span class="p">(</span><span class="n">dataList</span><span class="p">))</span><span class="o">.</span><span class="nf">sorted</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">word</span> <span class="o">&lt;</span> <span class="nv">$1</span><span class="o">.</span><span class="n">word</span> <span class="p">})</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>중복제거와 동시에 정렬을 해서 보여주게 했다.</p>

<p>하지만 카테고리가 없어서 좀 아쉽다.</p>

<p>카테고리도 모델에 넣으면 좋을듯하다.</p>

<h2 id="모델-변경"><span class="me-2">모델 변경</span><a href="#모델-변경" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">struct</span> <span class="kt">ReminderModel</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="p">{</span>
    
    <span class="k">var</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">word</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">meaning</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">category</span><span class="p">:</span> <span class="kt">String</span> <span class="c1">// added</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>카테고리 정보는 어차피 receivedData가 가지고 있다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">guard</span> <span class="k">let</span> <span class="nv">word</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">word</span><span class="p">,</span> <span class="k">let</span> <span class="nv">meaning</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">currentCount</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span><span class="p">,</span> <span class="k">let</span> <span class="nv">category</span> <span class="o">=</span> <span class="n">receivedData</span><span class="p">?</span><span class="o">.</span><span class="n">category</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>
<span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="kt">ReminderModel</span><span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">word</span><span class="p">:</span> <span class="n">word</span><span class="p">,</span> <span class="nv">meaning</span><span class="p">:</span> <span class="n">meaning</span><span class="p">,</span> <span class="nv">category</span><span class="p">:</span> <span class="n">category</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>적용 완료.</p>

<p>하지만 하나 아쉬운건 보여줄때 레이블이 어떤걸 의미하는지 모를 수 있다.</p>

<p>tableview의 header에 uiview를 추가하여 보여주면 좋을듯하다.</p>

<h2 id="tableview-header-view-생성"><span class="me-2">Tableview Header View 생성</span><a href="#tableview-header-view-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kd">lazy</span> <span class="k">var</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">table</span> <span class="o">=</span> <span class="kt">UITableView</span><span class="p">()</span>
        <span class="n">table</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="kt">RecordTableViewCell</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">forCellReuseIdentifier</span><span class="p">:</span> <span class="kt">Constants</span><span class="o">.</span><span class="n">recordCell</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">rowHeight</span> <span class="o">=</span> <span class="mi">60</span>
        <span class="n">table</span><span class="o">.</span><span class="n">tableHeaderView</span> <span class="o">=</span> <span class="n">headerView</span>
        <span class="k">return</span> <span class="n">table</span>
    <span class="p">}()</span>
<span class="kd">lazy</span> <span class="k">var</span> <span class="nv">headerView</span><span class="p">:</span> <span class="kt">UIView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">view</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">()</span>
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">hStackView</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">view</span>
    <span class="p">}()</span>
    
<span class="kd">lazy</span> <span class="k">var</span> <span class="nv">categoryLabel</span> <span class="o">=</span> <span class="kt">LabelFactory</span><span class="p">()</span><span class="o">.</span><span class="nf">makeLabel</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"단어장"</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">isBold</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
<span class="kd">lazy</span> <span class="k">var</span> <span class="nv">wordLabel</span> <span class="o">=</span> <span class="kt">LabelFactory</span><span class="p">()</span><span class="o">.</span><span class="nf">makeLabel</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"단어"</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">isBold</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
<span class="kd">lazy</span> <span class="k">var</span> <span class="nv">defLabel</span> <span class="o">=</span> <span class="kt">LabelFactory</span><span class="p">()</span><span class="o">.</span><span class="nf">makeLabel</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"의미"</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">isBold</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
    
<span class="kd">lazy</span> <span class="k">var</span> <span class="nv">hStackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">stackView</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">(</span><span class="nv">arrangedSubviews</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">categoryLabel</span><span class="p">,</span>
            <span class="n">wordLabel</span><span class="p">,</span>
            <span class="n">defLabel</span>
        <span class="p">])</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">horizontal</span>
        <span class="n">stackView</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fillEqually</span>
        <span class="k">return</span> <span class="n">stackView</span>
    <span class="p">}()</span>    
</pre></td></tr></tbody></table></code></div></div>

<p>다음과 같이 잡아준다.</p>

<p>그리고 레이아웃을 또 잡아줘야 하는데 검색해보니</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">func</span> <span class="nf">layout</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">vStackView</span><span class="p">)</span>
        
        <span class="n">vStackView</span><span class="o">.</span><span class="n">snp</span><span class="o">.</span><span class="n">makeConstraints</span> <span class="p">{</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">leading</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span><span class="o">.</span><span class="nf">offset</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">trailing</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span><span class="o">.</span><span class="nf">offset</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="n">headerView</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="n">tableView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">40</span><span class="p">)</span> <span class="c1">// important</span>
        
        <span class="n">hStackView</span><span class="o">.</span><span class="n">snp</span><span class="o">.</span><span class="n">makeConstraints</span> <span class="p">{</span> <span class="c1">// added</span>
            <span class="nv">$0</span><span class="o">.</span><span class="n">edges</span><span class="o">.</span><span class="nf">equalToSuperview</span><span class="p">()</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>headerview는 레이아웃보다는 프레임으로 잡는다고 한다. 기억해두자.</p>

<p>실행하면 다음과 같다.</p>

<p>끄읏.</p>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/15a052a2-a58b-4e6d-ab01-773a32a91c69" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/15a052a2-a58b-4e6d-ab01-773a32a91c69" alt="May-22-2024 02-18-45" width="50%" height="50%" loading="lazy"></a></p>

<h2 id="예외처리-1"><span class="me-2">예외처리</span><a href="#예외처리-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>현재 문제를 하나 발견했는데 같은 문제가 두번 연속나오면 답을 못맞추는것같다.</p>

<p>확인해보니 정답인데 색을 잘못 인식하는듯하다.</p>

<p>추가로 확인해보니 오답으로 인식도 하는듯하다.</p>

<p>아무래도 버튼이 변하면서 cache가 남는 느낌인데 initialize가 필요할것으로 보인다.</p>

<p>우선 깜빡거리는 타이머를 0.2에서 0.1초로 바꾼다.</p>

<p>그리고</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre> <span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">updateBackground</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">firstButton</span><span class="p">,</span> <span class="n">secondButton</span><span class="p">,</span> <span class="n">thirdButton</span><span class="p">,</span> <span class="n">forthButton</span><span class="p">]</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">button</span> <span class="k">in</span>
            <span class="n">button</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span> <span class="c1">// added</span>
            <span class="n">button</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">ThemeColor</span><span class="o">.</span><span class="n">mainColor</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>빈값으로 한번 초기화를 해보기로했다.</p>

<p>문제가 사라진다. 아무래도 초기화를 해주는 시점을 다르게 잡아야할듯하다.</p>

<p>우선 확인해보니 현재 배열의 개수보다 더 많이 만들때 발생을 하는데</p>

<p>quiz에는 그 부분이 적용이 안되어있던걸로 보인다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">checkException</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="n">receivedData</span><span class="o">!.</span><span class="n">quizCount</span> <span class="o">&gt;</span> <span class="n">quizArray</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span>
            <span class="n">receivedData</span><span class="p">?</span><span class="o">.</span><span class="n">quizCount</span> <span class="o">=</span> <span class="n">quizArray</span><span class="o">.</span><span class="n">count</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">getData</span> <span class="p">()</span> <span class="p">{</span>
            <span class="n">quizArray</span> <span class="o">=</span> <span class="kt">CoreDataManager</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">getSpecificData</span><span class="p">(</span><span class="nv">query</span><span class="p">:</span> <span class="n">receivedData</span><span class="o">!.</span><span class="n">category</span><span class="p">,</span> <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="k">unowned</span> <span class="k">self</span><span class="p">]</span> <span class="n">error</span> <span class="k">in</span>
            <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="n">alertController</span><span class="o">.</span><span class="nf">makeNormalAlert</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"에러발생"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">가 발생했습니다."</span><span class="p">)</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">})</span>
        <span class="c1">// added</span>
        <span class="nf">checkException</span><span class="p">()</span>
        <span class="n">quizArray</span> <span class="o">=</span> <span class="kt">Array</span><span class="p">(</span><span class="n">quizArray</span><span class="o">.</span><span class="nf">prefix</span><span class="p">(</span><span class="n">receivedData</span><span class="o">!.</span><span class="n">quizCount</span><span class="p">))</span>
    <span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>그리고 또 문제를 발견했다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">func</span> <span class="nf">generate</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 문제배열이 생성</span>

        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">count</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">numberArray</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">...</span><span class="n">quizArray</span><span class="o">.</span><span class="n">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span><span class="o">.</span><span class="nf">shuffled</span><span class="p">()</span>
            <span class="k">let</span> <span class="nv">getFourNumberArray</span> <span class="o">=</span> <span class="n">numberArray</span><span class="o">.</span><span class="nf">prefix</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">numberArray</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span> <span class="p">}</span>
            <span class="k">let</span> <span class="nv">number1</span> <span class="o">=</span> <span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">number2</span> <span class="o">=</span> <span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">number3</span> <span class="o">=</span> <span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">number4</span> <span class="o">=</span> <span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            
            
            <span class="k">let</span> <span class="nv">answerInfo</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">number1</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">question</span> <span class="o">=</span> <span class="n">answerInfo</span><span class="o">.</span><span class="n">word</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">answer</span> <span class="o">=</span> <span class="n">answerInfo</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">first</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">number2</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">second</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">number3</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">third</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">number4</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            
            <span class="k">let</span> <span class="nv">dummy</span> <span class="o">=</span> <span class="kt">VocaQuizModel</span><span class="p">(</span><span class="nv">question</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span> <span class="nv">answer</span><span class="p">:</span> <span class="n">answer</span><span class="p">,</span> <span class="nv">incorrectFirst</span><span class="p">:</span> <span class="n">first</span><span class="p">,</span> <span class="nv">incorrectSecond</span><span class="p">:</span> <span class="n">second</span><span class="p">,</span> <span class="nv">incorrectThird</span><span class="p">:</span> <span class="n">third</span><span class="p">)</span>
            <span class="n">quizData</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">dummy</span><span class="p">)</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>여기서 계속 랜덤으로 하다보니 문제가 발생한것.</p>

<p>중복을 피하기 위해 이미 사용한 문제를 따로 추가하는 배열을 생성</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">func</span> <span class="nf">generate</span><span class="p">(</span><span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">var</span> <span class="nv">usedQuestions</span> <span class="o">=</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span> <span class="c1">// added</span>
        
        <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">count</span> <span class="p">{</span>
            <span class="k">var</span> <span class="nv">numberArray</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">...</span><span class="n">quizArray</span><span class="o">.</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span><span class="o">.</span><span class="nf">shuffled</span><span class="p">()</span>
            
            <span class="k">var</span> <span class="nv">getFourNumberArray</span> <span class="o">=</span> <span class="n">numberArray</span><span class="o">.</span><span class="nf">prefix</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">numberArray</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span> <span class="p">}</span>
            <span class="k">var</span> <span class="nv">answerInfo</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            
            <span class="k">while</span> <span class="n">usedQuestions</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="n">answerInfo</span><span class="o">.</span><span class="n">word</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">numberArray</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">...</span><span class="n">quizArray</span><span class="o">.</span><span class="n">count</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span><span class="o">.</span><span class="nf">shuffled</span><span class="p">()</span>
                <span class="n">getFourNumberArray</span> <span class="o">=</span> <span class="n">numberArray</span><span class="o">.</span><span class="nf">prefix</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">numberArray</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span> <span class="p">}</span>
                <span class="n">answerInfo</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="p">}</span>
            
            <span class="k">let</span> <span class="nv">question</span> <span class="o">=</span> <span class="n">answerInfo</span><span class="o">.</span><span class="n">word</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">answer</span> <span class="o">=</span> <span class="n">answerInfo</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">first</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">second</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            <span class="k">let</span> <span class="nv">third</span> <span class="o">=</span> <span class="n">quizArray</span><span class="p">[</span><span class="n">getFourNumberArray</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">.</span><span class="n">definition</span><span class="o">!</span>
            
            <span class="k">let</span> <span class="nv">dummy</span> <span class="o">=</span> <span class="kt">VocaQuizModel</span><span class="p">(</span><span class="nv">question</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span> <span class="nv">answer</span><span class="p">:</span> <span class="n">answer</span><span class="p">,</span> <span class="nv">incorrectFirst</span><span class="p">:</span> <span class="n">first</span><span class="p">,</span> <span class="nv">incorrectSecond</span><span class="p">:</span> <span class="n">second</span><span class="p">,</span> <span class="nv">incorrectThird</span><span class="p">:</span> <span class="n">third</span><span class="p">)</span>
            <span class="n">quizData</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">dummy</span><span class="p">)</span>
            <span class="n">usedQuestions</span><span class="o">.</span><span class="nf">insert</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>완료.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%EC%BA%A0%ED%94%84/">캠프</a>,
          <a href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B83/">프로젝트3</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          이 기사는 저작권자의 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         라이센스를 따릅니다.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">공유하기</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%EB%8B%A8%EC%96%B4%EC%9E%A5%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%20(8)%20-%20Harold%60s%20DLog&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EB%258B%25A8%25EC%2596%25B4%25EC%259E%25A5-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-%288%29%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%EB%8B%A8%EC%96%B4%EC%9E%A5%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%20(8)%20-%20Harold%60s%20DLog&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EB%258B%25A8%25EC%2596%25B4%25EC%259E%25A5-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-%288%29%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25EB%258B%25A8%25EC%2596%25B4%25EC%259E%25A5-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-%288%29%2F&text=%EB%8B%A8%EC%96%B4%EC%9E%A5%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%20(8)%20-%20Harold%60s%20DLog" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
<script src="https://utteranc.es/client.js"
  repo="haroldfromk/haroldfromk.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>

</article>



            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">최근 업데이트</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ObjectTest/">CartAppTest</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/(Deep-Dive)-Object/">(Deep Dive) @ObservedObject vs @StateObject</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_6/">TourApp (6)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_5/">TourApp (5)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_4/">TourApp (4)</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">바로가기</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(1)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1715576400"
  data-df="YYYY/MM/DD"
  
>
  2024/05/13
</time>

              <h4 class="pt-0 my-2">단어장 프로젝트 (1)</h4>
              <div class="text-muted">
                <p>
                  





                  새로운 팀프로젝트가 시작

디자인은 Codebase로 간다.

내가 담당하는건 단어 외우기 기능이다.

우선은 간단하게 Figma로 디자인을 했는데 그것을 기반으로 디자인을 하려고한다.

UIDesign



디자인은 이렇게 할 예정이다.

사실 디자인부분은 크게 언급할게 없을듯 하다.



디자인을 하다가 셀간격에서 막혔다.

현재 셀간격을 줄수가 ...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(2)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1715662800"
  data-df="YYYY/MM/DD"
  
>
  2024/05/14
</time>

              <h4 class="pt-0 my-2">단어장 프로젝트 (2)</h4>
              <div class="text-muted">
                <p>
                  





                  2일차 시작 우선 중요기능중 한가지를 먼저 구현하려고한다

그전에 Sparta에서 Daily 면접질문? 그런거에 대한 답을 먼저 하고 시작

오늘의 질문


  Storyboard를 이용해 UI를 구현하는 방법을 설명해주세요.


StoryBoard를 사용하여 UI를 구현할때는 Commnad + Shift + L을 눌러서 UIComponent를 추가할...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%EB%8B%A8%EC%96%B4%EC%9E%A5-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-(3)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1715770800"
  data-df="YYYY/MM/DD"
  
>
  2024/05/15
</time>

              <h4 class="pt-0 my-2">단어장 프로젝트 (3)</h4>
              <div class="text-muted">
                <p>
                  





                  3일차 시작

오늘은 휴일인데 게임 기본적인건 구현이 완료되어서 그래도 쉬는날이어도 하루에 하나는 해야하지 않을까 싶어서

간단하게 FlashCard쪽 UI를 디자인 해본다.

기본 틀은 비슷하게 가면서 안에 UILabel을 크게 하면 좋을듯 하다.



일단 디자인은 완료…

특이점이라면

lazy var frameView: UIView = {
  ...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/TikTok-Clone-(5)/"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>TikTok Clone (5)</p>
    </a>
  

  
    <a
      href="/posts/%E1%84%83%E1%85%A1%E1%86%AB%E1%84%8B%E1%85%A5%E1%84%8C%E1%85%A1%E1%86%BC-%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3-(9)/"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>단어장 프로젝트 (9)</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://github.com/haroldfromk">Dongik Song</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다."
      >일부 권리 보유</span>
    
  </p>

  <p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      업데이트
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/ko.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  





    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

