<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" >
  <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4791588234419923"
     crossorigin="anonymous"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="FlashChat (7)" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="Firestore 사용해보기" />
<meta property="og:description" content="Firestore 사용해보기" />
<link rel="canonical" href="http://localhost:4000/posts/FlashChat-(7)/" />
<meta property="og:url" content="http://localhost:4000/posts/FlashChat-(7)/" />
<meta property="og:site_name" content="Harold`s DLog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-03-20T17:53:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="FlashChat (7)" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="google-site-verification" content="AW90BDnepHsDdmQ6OaGtfM4bGYM_XM-4atRcFmERHVY" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-03-20T17:53:00+09:00","datePublished":"2024-03-20T17:53:00+09:00","description":"Firestore 사용해보기","headline":"FlashChat (7)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/FlashChat-(7)/"},"url":"http://localhost:4000/posts/FlashChat-(7)/"}</script>
<!-- End Jekyll SEO tag -->


  <title>FlashChat (7) | Harold`s DLog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Harold`s DLog">
<meta name="application-name" content="Harold`s DLog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://polyfill.io" >
      <link rel="dns-prefetch" href="https://polyfill.io" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->
<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
  <!-- .sidebar-badge -->
    <a href="/" id="avatar" class="rounded-circle"><img src="https://i.ibb.co/SQtS8n8/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Harold`s DLog</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">토프레와 애플을 좋아하는 사람의 Daily, Dev Log</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>태그</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>아카이브</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>정보</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>
  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/haroldfromk"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dongik369','naver.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">홈</a>
            </span>

          
        
          
        
          
            
              <span>FlashChat (7)</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      포스트
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>FlashChat (7)</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        게시
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1710924780"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2024/03/20
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/haroldfromk">Dongik Song</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2584 단어"
>
  <em>14 분</em>읽는 시간</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="firestore-사용해보기"><span class="me-2">Firestore 사용해보기</span><a href="#firestore-사용해보기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Firestore에 대한 <a href="https://firebase.google.com/docs/firestore/quickstart?hl=ko&amp;_gl=1*1jesdsc*_up*MQ..*_ga*NTYxOTY1OTA2LjE3MTA5MjMzODM.*_ga_CW55HF8NVT*MTcxMDkyMzM4Mi4xLjAuMTcxMDkyMzM4Mi4wLjAuMA..">Docs</a>이다 참고하자.</p>

<h2 id="database-구축하기"><span class="me-2">Database 구축하기</span><a href="#database-구축하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Firebase의 Console로 들어가서 Firestore Database를 선택해주자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/kl4GKGHnXS.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/kl4GKGHnXS.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>Realtime DB는 이전에 있었던것이라고 한다.</p>

<p>DB를 만들어 보자.</p>

<p>만들기를 누르면 다음과 같이 지역설정이 뜨는데 us-central로 해주자</p>

<p>(난 모르고 Seoul을 했다. 어차피 테스트용도로 크게 상관은 없다.)</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/y7dYltlLPi.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/y7dYltlLPi.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>그러면 모드 설정이 나오는데,</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/a1lMZWfdyK.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/a1lMZWfdyK.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>프로덕션모드를 하면 타사에서 읽기 쓰기가 거부된다. 즉 우리가 테스트를 하기가 너무 어려워진다.</p>

<p>테스트 모드는 한달동안 자유롭게 쓸 수 있다.</p>

<p>테스트모드로 하고 만들어주자.</p>

<p>그다음 다시 xcode로 돌아와서 Cloud Firestore를 초기화 해줘야한다.</p>

<p>설명은 Docs에 있다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        
    <span class="kt">FirebaseApp</span><span class="o">.</span><span class="nf">configure</span><span class="p">()</span>
        
    <span class="k">let</span> <span class="nv">db</span> <span class="o">=</span> <span class="kt">Firestore</span><span class="o">.</span><span class="nf">firestore</span><span class="p">()</span>
        
    <span class="nf">print</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>db가 잘 나오는지 print를 넣어주었다.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/WjOvRaVfu6.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/WjOvRaVfu6.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>잘나온다.</p>

<p>값이 안나온다면? Terminal에서 <code class="language-plaintext highlighter-rouge">pod --version</code>을 입력하여 버젼을 확인해보고 업데이트를 해줘야한다.</p>

<p>그리고 다시 설치를 해봐야한다. <code class="language-plaintext highlighter-rouge">sudo gem install cocoapods</code></p>

<p>이게 프린트가 안되면 나중에 App Crash가 발생하기 때문이다.</p>

<h2 id="보내기-버튼-구현하기-db에-데이터-전달"><span class="me-2">보내기 버튼 구현하기 (DB에 데이터 전달)</span><a href="#보내기-버튼-구현하기-db에-데이터-전달" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>    <span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">sendPressed</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">let</span> <span class="nv">messageBody</span> <span class="o">=</span> <span class="n">messageTextfield</span><span class="o">.</span><span class="n">text</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>메세지의 내용은 textField의 값으로 가져온다.</p>

<p>그리고 누가 보냈는지를 알기 위해 즉 아래에 있는 sender를 알기 위해서 다시 Firebase Docs로 돌아가자.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kd">struct</span> <span class="kt">Message</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">sender</span> <span class="p">:</span> <span class="kt">String</span> <span class="c1">// email 형식으로</span>
    <span class="k">let</span> <span class="nv">body</span> <span class="p">:</span> <span class="kt">String</span> <span class="c1">// 유져가 보내는 Message 내용</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>다음과 같이 옵셔널 바인딩도 해주었다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">sendPressed</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="k">let</span> <span class="nv">messageBody</span> <span class="o">=</span> <span class="n">messageTextfield</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="k">let</span> <span class="nv">sender</span> <span class="o">=</span> <span class="kt">Auth</span><span class="o">.</span><span class="nf">auth</span><span class="p">()</span><span class="o">.</span><span class="n">currentUser</span><span class="p">?</span><span class="o">.</span><span class="n">email</span> <span class="p">{</span>
            
        <span class="p">}</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그런데 아직 내용은 적지 않았다, 왜냐 저부분은 이제 Database에 접근을 해야하기 때문에 위에 상수로 하나 db 오브젝트를 만들어 준다.</p>

<p><code class="language-plaintext highlighter-rouge">let db = Firestore.firestore()</code></p>

<p>이때 Firestore를 찾지못한다고 하면 <code class="language-plaintext highlighter-rouge">import FirebaseFirestore</code> 를 적어 import 해주자.</p>

<p>이제 내용을 적어주자.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">sendPressed</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="k">let</span> <span class="nv">messageBody</span> <span class="o">=</span> <span class="n">messageTextfield</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="k">let</span> <span class="nv">messageSender</span> <span class="o">=</span> <span class="kt">Auth</span><span class="o">.</span><span class="nf">auth</span><span class="p">()</span><span class="o">.</span><span class="n">currentUser</span><span class="p">?</span><span class="o">.</span><span class="n">email</span> <span class="p">{</span>
            <span class="n">db</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">collectionName</span><span class="p">)</span><span class="o">.</span><span class="nf">addDocument</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="nv">senderField</span> <span class="p">:</span> <span class="n">messageSender</span><span class="p">,</span> <span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="nv">bodyField</span> <span class="p">:</span> <span class="n">messageBody</span><span class="p">])</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">e</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"There was an issue saving dat to firestore. </span><span class="se">\(</span><span class="n">e</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"Successfully saved data"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>우선 문자열로 된 내용들은 전부 상수화 시켜서 오타가 나지않게 하는건 이미 그전에 언급했으므로 제외하고,</p>

<p>collection안에는 우리가 이름을 정해서 넣게 되는데 “messages”를 적었다.</p>

<p>그리고 data는 보낸사람과 내용을 담기위해 Dictionary형식을 사용하였고,</p>

<p>[K.FStore.senderField : messageSender, K.FStore.bodyField : messageBody] 이건</p>

<p>[“sender” : messageSender, “body” : messageBody] 이것을 상수화 해서 적은것이다.</p>

<p>그리고 뒤에 에러가 발생하였을 경우 출력하기 위해 Closure를 사용했다.</p>

<p>작동해보자.</p>

<p>그런데 입력해보려고하니…</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/GyBH2l1BaL.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/GyBH2l1BaL.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>이렇게 짤려버린다. 이건 이따가 다시 보완하기로 하고 작동 테스트를 먼저 해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/NgZZpo5TIW.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/NgZZpo5TIW.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>전달이 잘 되었다.</p>

<p>그리고 DB를 확인해보면?</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/6azNdRurjm.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/6azNdRurjm.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>여기도 등록이 잘 된것을 확인할 수 있다.</p>

<h2 id="db-받아오기"><span class="me-2">DB 받아오기</span><a href="#db-받아오기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>DB를 받아오려면 앱이 실행될때 받아와야 하므로 viewDidLoad에 함수를 호출하는 식으로 하면 된다.</p>

<p>우선 안에 <code class="language-plaintext highlighter-rouge">loadMessages()</code> 를 적어주고 그 다음 함수를 구현하는 코드를 작성해보자.</p>

<p>여러 클래스에 대한 타입은 <a href="https://firebase.google.com/docs/reference?_gl=1*zypscc*_up*MQ..*_ga*NTYxOTY1OTA2LjE3MTA5MjMzODM.*_ga_CW55HF8NVT*MTcxMDkyMzM4Mi4xLjAuMTcxMDkyMzM4Mi4wLjAuMA..">Docs</a>에 있으니 참고하자</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">loadMessages</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="n">db</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">collectionName</span><span class="p">)</span><span class="o">.</span><span class="n">getDocuments</span> <span class="p">{</span> <span class="p">(</span><span class="n">querySnapshot</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">if</span> <span class="k">let</span> <span class="nv">e</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"There was an issue retrieving data from Firestore. </span><span class="se">\(</span><span class="n">e</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">snapshotDocuments</span> <span class="o">=</span> <span class="n">querySnapshot</span><span class="p">?</span><span class="o">.</span><span class="n">documents</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="n">doc</span> <span class="k">in</span> <span class="n">snapshotDocuments</span> <span class="p">{</span>
                        <span class="nf">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="nf">data</span><span class="p">())</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>배열을 초기화 해주었다. 이제는 우리가 작성된 값을 테스트를 하는것이 아니기 때문이다.</p>

<p>Documents에 우리가 가져와야할 DB가 있는데, 그곳에 접근해서 데이터를 가져오는 것이다.</p>

<p>querySnapshot과 error 모두 옵셔널 타입이므로 옵셔널 바인딩을 해준다.</p>

<p>에러가 발생하면 에러메세지를 출력하고, 그렇지 않은경우 데이터를 가져오게 한다.</p>

<p>해당 내용을 출력해보면 아래와 같이 나온다.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/g47wAApFWD.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/g47wAApFWD.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>값을 잘 받아오고 있다.</p>

<p>여기서 우리가 메세지를 한번 더 입력해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/4YF6m36MOo.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/4YF6m36MOo.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>역시나 DB서버와의 통신이 잘 되는걸 알 수 있다.</p>

<p>이제 저 doc을 더 세분화 해서 나눠 보자.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="nf">data</span><span class="p">()</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">sender</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">senderField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">bodyField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 했는데 보니까 옵셔널 바인딩과 다운캐스팅을 다 해주었다 왜냐하면</p>

<p>Data Type이 Any? 이기 때문이다. 그래서 우리가 쓰는 타입에 맞게 다운 캐스팅을 해주고 옵셔널 바인딩을 해준것이다.</p>

<p>함수를 이렇게 작성해주었다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">func</span> <span class="nf">loadMessages</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>
        
    <span class="n">db</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">collectionName</span><span class="p">)</span><span class="o">.</span><span class="n">getDocuments</span> <span class="p">{</span> <span class="p">(</span><span class="n">querySnapshot</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">e</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"There was an issue retrieving data from Firestore. </span><span class="se">\(</span><span class="n">e</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">snapshotDocuments</span> <span class="o">=</span> <span class="n">querySnapshot</span><span class="p">?</span><span class="o">.</span><span class="n">documents</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="n">doc</span> <span class="k">in</span> <span class="n">snapshotDocuments</span> <span class="p">{</span>
                        <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="nf">data</span><span class="p">()</span>
                        <span class="k">if</span> <span class="k">let</span> <span class="nv">messageSender</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">senderField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span> <span class="k">let</span> <span class="nv">messageBody</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">bodyField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">{</span>
                            <span class="k">let</span> <span class="nv">newMessage</span> <span class="o">=</span> <span class="kt">Message</span><span class="p">(</span><span class="nv">sender</span><span class="p">:</span> <span class="n">messageSender</span><span class="p">,</span> <span class="nv">body</span><span class="p">:</span> <span class="n">messageBody</span><span class="p">)</span>
                            <span class="k">self</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">newMessage</span><span class="p">)</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>우리가 받아오는 값을 새로운 오브젝트에 집어넣고 그걸 배열에 다시 넣는 것이다.</p>

<p>작동이 되는지 확인해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/qVaPLNn48f.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/qVaPLNn48f.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>분명히 배열에 집어넣었는데 보이지 않는다?</p>

<p><code class="language-plaintext highlighter-rouge">self.tableView.reloadData()</code> 이걸 입력 하지 않아서 그렀다.</p>

<p>말그대로 tableView를 refresh 해주는 것이다.</p>

<p>그리고 이럴때 자주 사용하면 좋은게 우리가 뭔가 UI가 바뀔때 (여기선 TableView를 갱신할때)</p>

<p>그리고 이렇게 클로저 내부에서 작업을 할때 우리가 이전에 사용했던 DispatchQueue를 통해서 비동기 작업을 해주는 것이 더 좋다.</p>

<p>다시 작동확인을 해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/cSpKeXSsis.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/cSpKeXSsis.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>데이터를 잘 받아온다.</p>

<p>하지만 아직 메세지를 보내면 업데이트는 안된다.</p>

<h3 id="db-자동-갱신"><span class="me-2">DB 자동 갱신</span><a href="#db-자동-갱신" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>현재 우리가 사용중인 getDocuments는 수동적이다. 무슨말이냐 하면</p>

<p>우리가 호출하기전에는 해당 메서드가 자동으로 트리거 되지 않는다는 것이다.</p>

<p>관련 내용이 있는 <a href="https://firebase.google.com/docs/firestore/query-data/listen?hl=ko&amp;_gl=1*yau67j*_up*MQ..*_ga*NzcxNTYzOTI0LjE3MTA5Mjk5NzA.*_ga_CW55HF8NVT*MTcxMDkyOTk3MC4xLjAuMTcxMDkzMDAwMC4wLjAuMA..">Docs</a>이다.</p>

<p>해당 내용을 참고하여 코드를 수정한다.</p>

<p><code class="language-plaintext highlighter-rouge">getDocuments → addSnapshotListener</code> 로 바꿔주자.</p>

<p>그리고 실행해보자</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/JP44gl26xj.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/JP44gl26xj.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>업로드는 되는데, 기존에 내역이 그대로 유지된 채로 추가가 되어버린다.</p>

<p>즉 화면 전체가 리셋이 되고 반영이 되지 않고있다.</p>

<h3 id="문제-해결"><span class="me-2">문제 해결</span><a href="#문제-해결" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>배열 초기화의 위치만 바꿔 주면 된다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre> 
<span class="kd">func</span> <span class="nf">loadMessages</span><span class="p">()</span> <span class="p">{</span>
        
    <span class="c1">// messages = [] before</span>

    <span class="n">db</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">collectionName</span><span class="p">)</span><span class="o">.</span><span class="n">addSnapshotListener</span> <span class="p">{</span> <span class="p">(</span><span class="n">querySnapshot</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
            
        <span class="k">self</span><span class="o">.</span><span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// new</span>
            
        <span class="k">if</span> <span class="k">let</span> <span class="nv">e</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"There was an issue retrieving data from Firestore. </span><span class="se">\(</span><span class="n">e</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">snapshotDocuments</span> <span class="o">=</span> <span class="n">querySnapshot</span><span class="p">?</span><span class="o">.</span><span class="n">documents</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="n">doc</span> <span class="k">in</span> <span class="n">snapshotDocuments</span> <span class="p">{</span>
                        <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="nf">data</span><span class="p">()</span>
                        <span class="k">if</span> <span class="k">let</span> <span class="nv">messageSender</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">senderField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">,</span> <span class="k">let</span> <span class="nv">messageBody</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">bodyField</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span> <span class="p">{</span>
                            <span class="k">let</span> <span class="nv">newMessage</span> <span class="o">=</span> <span class="kt">Message</span><span class="p">(</span><span class="nv">sender</span><span class="p">:</span> <span class="n">messageSender</span><span class="p">,</span> <span class="nv">body</span><span class="p">:</span> <span class="n">messageBody</span><span class="p">)</span>
                            <span class="k">self</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">newMessage</span><span class="p">)</span>
                            
                            <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
                                <span class="k">self</span><span class="o">.</span><span class="n">tableView</span><span class="o">.</span><span class="nf">reloadData</span><span class="p">()</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>다시 작동해보면?</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/PFd9TpshtA.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/PFd9TpshtA.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>잘된다!</p>

<p>가 아니다.</p>

<p>뒤에 추가한 것을 보면 갑자기 중간에 내용이 들어가버린다..?</p>

<p>Firebase사이트로 들어가서 DB를 한번 확인해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/8olBMS8577.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/8olBMS8577.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>왜 마지막에 입력한 굿이 중간에 있는걸까?</p>

<p>바로 messages의 내용을 담는 Docs가 오름차순으로 되어있다.</p>

<p>git으로 비유하면 commit의 번호가 오름차순으로 정렬된셈이다.</p>

<h3 id="db의-data-정렬하기"><span class="me-2">DB의 Data 정렬하기.</span><a href="#db의-data-정렬하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>현재 DB의 정보를 보면 언제 입력했는지에 대한 날짜, 시간 정보가 없다.</p>

<p>이부분을 추가해주어 시간순으로 정렬을 하면 될 것 같다.</p>

<p>다시 코드로 돌아가자.</p>

<p>우리가 메세지를 보낼때 시간에 대한 값이 들어가야하므로. sendPressed로 가서 내용을 수정 해주면 된다.</p>

<p>시간을 아는 방법은 Date 개체를 이용하는 것이다.</p>

<p>초기화를 해주자 ` K.FStore.dateField : Date().timeIntervalSince1970`로 작성한다.</p>

<p>개발자들이 많이 사용하는 방법이 바로 위의 timeIntervalSince1970을 사용하는 것이다.</p>

<p><code class="language-plaintext highlighter-rouge">timeIntervalSince1970</code> 은 1970년 1월 1일 이후의 시간을 알려준다.</p>

<p>이제 시간을 새로 추가해주었으니 기존 메세지들은 DB로 돌아가서 다 지워준다.</p>

<p>그리고 다시 실행시켜서 테스트용 값을 아무거나 입력하고 보내고 DB를 다시 확인해보자.</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/jNPi4BcDDw.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/jNPi4BcDDw.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>시간 값이 추가가 되었다.</p>

<p>이젠 정렬을 하면 되겠다.</p>

<p>정렬에 관한 내용은 <a href="https://firebase.google.com/docs/firestore/query-data/order-limit-data?hl=ko&amp;_gl=1*dvfja2*_up*MQ..*_ga*NzcxNTYzOTI0LjE3MTA5Mjk5NzA.*_ga_CW55HF8NVT*MTcxMDkyOTk3MC4xLjAuMTcxMDkzMDAwMC4wLjAuMA..">Docs</a> 를 참고하면 된다.</p>

<p><code class="language-plaintext highlighter-rouge">db.collection(K.FStore.collectionName).order(by: K.FStore.dateField).addSnapshotListener { (querySnapshot, error) in</code> 이렇게 order를 가운데에 추가해주었다.</p>

<p>위에 처럼 너무 코드가 가로로 길어지면? <code class="language-plaintext highlighter-rouge">.</code> 앞에서 엔터를 쳐서 끊어주면 가독성이 더 좋아진다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">db</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">collectionName</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">order</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="kt">K</span><span class="o">.</span><span class="kt">FStore</span><span class="o">.</span><span class="n">dateField</span><span class="p">)</span>
    <span class="o">.</span><span class="n">addSnapshotListener</span> <span class="p">{</span> <span class="p">(</span><span class="n">querySnapshot</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
</pre></td></tr></tbody></table></code></div></div>

<p>작동 확인을 해보면?</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/D7B56hHtiX.gif" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/D7B56hHtiX.gif" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>굿!</p>

<h2 id="db-보안설정"><span class="me-2">DB 보안설정</span><a href="#db-보안설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/V1ZoC7lHVn.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/V1ZoC7lHVn.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>현재는 누구나 사용가능하지만, 이젠 인증이 된사람만 사용하게 바꾸자.</p>

<p>관련 내용 역시 <a href="https://firebase.google.com/docs/rules/basics?hl=ko&amp;authuser=0&amp;_gl=1*835erk*_up*MQ..*_ga*MjEzMzIyMzM0LjE3MTA5MjMzNTA.*_ga_CW55HF8NVT*MTcxMDkzMDkwMy4zLjEuMTcxMDkzMjAyMC4zMi4wLjA.">Docs</a> 를 참고하자.</p>

<p>그리고 그에 맞게 바꿔주면?</p>

<p><a href="https://i.esdrop.com/d/f/NrA2xlqacz/sizCGOgONE.png" class="popup img-link  shimmer"><img src="https://i.esdrop.com/d/f/NrA2xlqacz/sizCGOgONE.png" alt="" width="50%" height="50%" loading="lazy"></a></p>

<p>보안설정도 끝.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/udemy/">Udemy</a>,
          <a href="/categories/flashchat/">FlashChat</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          이 기사는 저작권자의 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         라이센스를 따릅니다.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">공유하기</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=FlashChat%20(7)%20-%20Harold%60s%20DLog&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FFlashChat-%287%29%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=FlashChat%20(7)%20-%20Harold%60s%20DLog&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FFlashChat-%287%29%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FFlashChat-%287%29%2F&text=FlashChat%20(7)%20-%20Harold%60s%20DLog" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
<script src="https://utteranc.es/client.js"
  repo="haroldfromk/haroldfromk.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>

</article>



            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">최근 업데이트</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ObjectTest/">CartAppTest</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/(Deep-Dive)-Object/">(Deep Dive) @ObservedObject vs @StateObject</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_6/">TourApp (6)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_5/">TourApp (5)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_4/">TourApp (4)</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">바로가기</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/FlashChat-(1)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1710745200"
  data-df="YYYY/MM/DD"
  
>
  2024/03/18
</time>

              <h4 class="pt-0 my-2">FlashChat (1)</h4>
              <div class="text-muted">
                <p>
                  





                  VC 구성



많아야 VC가 2개였는데 이번에는 4개의 VC로 이루어져있다.


  초기화면
  가입화면
  로그인화면
  채팅화면




가입화면에서 textField로 보이는곳에 shadow가 있는것은 assets의 images를 사용하였다.

현재 warning이 나오고 있다.



VC가 서로 연결이 되어있지 안다보니 나타나는 경고이다.

그...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/FlashChat-(2)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1710802800"
  data-df="YYYY/MM/DD"
  
>
  2024/03/19
</time>

              <h4 class="pt-0 my-2">FlashChat (2)</h4>
              <div class="text-muted">
                <p>
                  





                  Cocoapods 설치하기 (Terminal)


  
    sudo gem install cocoapods을 입력한다
  
  
    pod setup --verbose을 입력한다.
  
  
    셋업이 잘되었다면 pod –version을 통해 확인한다.
  




프로젝트에 pod 설치하기


  
    Terminal의 현재 경로를 현...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/FlashChat-(3)/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1710809580"
  data-df="YYYY/MM/DD"
  
>
  2024/03/19
</time>

              <h4 class="pt-0 my-2">FlashChat (3)</h4>
              <div class="text-muted">
                <p>
                  





                  3rd party Library 실제로 사용해보기.



설명대로 한번 사용해보자.



StoryBoard에서 우리가 적용할 UILabel을 클릭하고 custom class를 가보니 이렇게 지정을 할수있다.

한번 설정해보자.

그리고 다시 VC로 돌아가서

@IBOutlet weak var titleLabel: CLTypingLabel!를 해주었는...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/FlashChat-(6)/"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>FlashChat (6)</p>
    </a>
  

  
    <a
      href="/posts/3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1-%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A6-(3)/"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>3주차 과제 (3)</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://github.com/haroldfromk">Dongik Song</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다."
      >일부 권리 보유</span>
    
  </p>

  <p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      업데이트
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/ko.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  





    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

