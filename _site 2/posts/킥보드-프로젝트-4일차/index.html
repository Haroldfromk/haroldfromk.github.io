<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko-KR" >
  <head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4791588234419923"
     crossorigin="anonymous"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="킥보드 프로젝트 4일차" />
<meta property="og:locale" content="ko_KR" />
<meta name="description" content="프로젝트 4일차다." />
<meta property="og:description" content="프로젝트 4일차다." />
<link rel="canonical" href="http://localhost:4000/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4%EC%9D%BC%EC%B0%A8/" />
<meta property="og:url" content="http://localhost:4000/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4%EC%9D%BC%EC%B0%A8/" />
<meta property="og:site_name" content="Harold`s DLog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-25T05:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="킥보드 프로젝트 4일차" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="google-site-verification" content="AW90BDnepHsDdmQ6OaGtfM4bGYM_XM-4atRcFmERHVY" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-04-29T03:00:00+09:00","datePublished":"2024-04-25T05:00:00+09:00","description":"프로젝트 4일차다.","headline":"킥보드 프로젝트 4일차","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4%EC%9D%BC%EC%B0%A8/"},"url":"http://localhost:4000/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-4%EC%9D%BC%EC%B0%A8/"}</script>
<!-- End Jekyll SEO tag -->


  <title>킥보드 프로젝트 4일차 | Harold`s DLog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Harold`s DLog">
<meta name="application-name" content="Harold`s DLog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    
      <link rel="preconnect" href="https://polyfill.io" >
      <link rel="dns-prefetch" href="https://polyfill.io" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->
<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
  <!-- .sidebar-badge -->
    <a href="/" id="avatar" class="rounded-circle"><img src="https://i.ibb.co/SQtS8n8/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">Harold`s DLog</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">토프레와 애플을 좋아하는 사람의 Daily, Dev Log</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>홈</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>카테고리</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>태그</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>아카이브</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>정보</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>
  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/haroldfromk"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['dongik369','naver.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">홈</a>
            </span>

          
        
          
        
          
            
              <span>킥보드 프로젝트 4일차</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      포스트
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="검색..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>킥보드 프로젝트 4일차</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        게시
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713988800"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2024/04/25
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          업데이트
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1714327200"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2024/04/29
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/haroldfromk">Dongik Song</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2648 단어"
>
  <em>14 분</em>읽는 시간</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <p>프로젝트 4일차다.</p>

<p>점점 눈으로 보이기 시작한다.</p>

<p>어제에 이어, Annotation Pin관련 기능을 구현하는게 가장 중요하므로. 오늘은 이부분을 구현하면 될것같다.</p>

<p>AnnotationView의 경우, 우리가 주변에 있는 킥보드를 클릭했을때 간단한 정보 + 대여버튼이 있으면 좋을 것 같아서, 구현하려한다.</p>

<p>자료를 찾던 중 <a href="https://www.youtube.com/watch?v=w_aw72i8P_U">유튜브</a>에 너무 코드 흐름이 잘 되어있어서, 이걸 기반으로 하나하나 작성해가면서 그 과정을 적어 보려 한다.</p>

<h2 id="custom-annotation-pin-view-구현"><span class="me-2">Custom Annotation Pin, View 구현</span><a href="#custom-annotation-pin-view-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>우선 Annotation Pin은 지금은 그냥 일반적인 pin이다.</p>

<p>이걸 킥보드의 이미지로 보여주면 더 좋을 것 같아서 수정하기로 결정.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="c1">// MARK: - AnnotationView</span>
<span class="kd">extension</span> <span class="kt">MapViewController</span><span class="p">:</span> <span class="kt">MKMapViewDelegate</span> <span class="p">{</span>
    
    <span class="c1">// AnnotaionView 생성</span>
    <span class="kd">func</span> <span class="nf">mapView</span><span class="p">(</span><span class="n">_</span> <span class="nv">mapView</span><span class="p">:</span> <span class="kt">MKMapView</span><span class="p">,</span> <span class="n">viewFor</span> <span class="nv">annotation</span><span class="p">:</span> <span class="kd">any</span> <span class="kt">MKAnnotation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">MKAnnotationView</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="o">!</span><span class="p">(</span><span class="n">annotation</span> <span class="k">is</span> <span class="kt">MKUserLocation</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">nil</span>
        <span class="p">}</span>
        
        <span class="k">var</span> <span class="nv">annotationView</span> <span class="o">=</span> <span class="n">mapView</span><span class="o">.</span><span class="nf">dequeueReusableAnnotationView</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="s">"customPin"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">annotationView</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="c1">// view 생성</span>
            
            <span class="n">annotationView</span> <span class="o">=</span> <span class="kt">MKAnnotationView</span><span class="p">(</span><span class="nv">annotation</span><span class="p">:</span> <span class="n">annotation</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="s">"customPin"</span><span class="p">)</span>
            <span class="n">annotationView</span><span class="p">?</span><span class="o">.</span><span class="n">canShowCallout</span> <span class="o">=</span> <span class="kc">true</span>
            
            <span class="k">let</span> <span class="nv">btn</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">infoLight</span><span class="p">)</span>
            <span class="n">annotationView</span><span class="p">?</span><span class="o">.</span><span class="n">rightCalloutAccessoryView</span> <span class="o">=</span> <span class="n">btn</span>
            <span class="k">let</span> <span class="nv">click</span> <span class="o">=</span> <span class="kt">UITapGestureRecognizer</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">showbtn</span><span class="p">))</span>
            <span class="n">annotationView</span><span class="p">?</span><span class="o">.</span><span class="nf">addGestureRecognizer</span><span class="p">(</span><span class="n">click</span><span class="p">)</span>
            <span class="k">let</span> <span class="nv">btnClick</span> <span class="o">=</span> <span class="kt">UITapGestureRecognizer</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="k">#selector</span><span class="p">(</span><span class="n">showView</span><span class="p">))</span>
            <span class="n">btn</span><span class="o">.</span><span class="nf">addGestureRecognizer</span><span class="p">(</span><span class="n">btnClick</span><span class="p">)</span>
            
            
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">annotationView</span><span class="p">?</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">annotation</span>
        <span class="p">}</span>
        
        <span class="c1">// pin image 조절 및 등록</span>
        <span class="k">let</span> <span class="nv">pinImage</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"scooterPin"</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="kt">CGSize</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">40</span><span class="p">)</span>
        <span class="kt">UIGraphicsBeginImageContext</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pinImage</span><span class="o">!.</span><span class="nf">draw</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
        <span class="k">let</span> <span class="nv">resizedImage</span> <span class="o">=</span> <span class="kt">UIGraphicsGetImageFromCurrentImageContext</span><span class="p">()</span>
        
        <span class="n">annotationView</span><span class="p">?</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">resizedImage</span>
        
        <span class="k">return</span> <span class="n">annotationView</span>
    <span class="p">}</span>
    
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>지도에 스쿠터모양의 pin이 생긴다.</p>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/63002a17-67ce-496b-8a2f-566e10020ab8" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/63002a17-67ce-496b-8a2f-566e10020ab8" alt="simulator_screenshot_10F6C5B3-8379-42A0-8536-F03B1AAE4A3A" width="50%" height="50%" loading="lazy"></a></p>

<p>기능구현에 집중을 하다보니 결국 과정보단 결과를 기준으로 글을 작성하게 되었다.</p>

<p>위의 코드를 프로젝트 완료가 된 시점에서 리뷰를 하며 적는다</p>

<p>우선 CustomCell 처럼 이것도 역시 커스텀이 가능하지만, 위의 영상대로 이렇게도 나름 원하는대로 조정이 가능하기에 선택을 하게 되었다.</p>

<blockquote>
  <p>MKAnnotationView 란?</p>
  <blockquote>
    <p>Annotation Object를 비주얼적으로 보여준다.</p>
  </blockquote>
</blockquote>

<p>만드는 방법은 아주 다양하다, 위에서 언급한대로 별도의 Class를 사용하여 조금 더 디테일하게 만들 수도 있다.</p>

<p>아마 다음에 지도를 또 사용하게 된다면 사용할것같다.</p>

<p>다시 돌아와서, UIGestureRecognizer를 사용하여, 클릭을 할때 Event가 발생하게 하였다.</p>

<p>우선 마커들을 클릭했을때 정보를 표현하고 싶었기에, <code class="language-plaintext highlighter-rouge">annotationView?.canShowCallout = true</code>로 설정하였다.</p>

<p>그러면 예전 키오스크에서는 마커를 클릭해도 간단하게 확대가되고, 밑에 subtitle이 보였던것으로 기억하는데, 이제는 클릭을 하면 말풍선 같은게 생기면서 좀더 마커에 정보를 담을 수 있게한다.</p>

<h2 id="pin-추가-기능"><span class="me-2">Pin 추가 기능</span><a href="#pin-추가-기능" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>생각해보니 핀에대한 언급이 없어서 여기에 적기로한다. (이부분은 사실 5일차에 디테일하게 구현한 내용.)
4일차에는 핀만 추가 되어있었다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="c1">// pin 추가.</span>
    <span class="kd">func</span> <span class="nf">addMark</span><span class="p">(</span><span class="nv">coordinate</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">,</span> <span class="nv">serial</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">let</span> <span class="nv">pin</span> <span class="o">=</span> <span class="kt">MKPointAnnotation</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">address</span> <span class="o">=</span> <span class="kt">CLGeocoder</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
        <span class="n">address</span><span class="o">.</span><span class="nf">reverseGeocodeLocation</span><span class="p">(</span><span class="kt">CLLocation</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">coordinate</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">coordinate</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span> <span class="p">{</span> <span class="p">(</span><span class="n">placemarks</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">placeMark</span><span class="p">:</span> <span class="kt">CLPlacemark</span><span class="o">!</span>
            <span class="n">placeMark</span> <span class="o">=</span> <span class="n">placemarks</span><span class="p">?[</span><span class="mi">0</span><span class="p">]</span>
            
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">address</span> <span class="o">=</span> <span class="n">placeMark</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
            
            <span class="n">pin</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"기기번호: </span><span class="se">\(</span><span class="n">serial</span><span class="se">)</span><span class="s">"</span>
            <span class="n">pin</span><span class="o">.</span><span class="n">subtitle</span> <span class="o">=</span> <span class="s">"현재위치: </span><span class="se">\(</span><span class="n">address</span><span class="o">.</span><span class="n">thoroughfare</span> <span class="p">??</span> <span class="s">"Apple Store"</span><span class="se">)</span><span class="s">"</span>
            
            <span class="n">pin</span><span class="o">.</span><span class="n">coordinate</span> <span class="o">=</span> <span class="n">coordinate</span>
            <span class="k">self</span><span class="o">.</span><span class="n">mapView</span><span class="o">.</span><span class="nf">addAnnotation</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
        <span class="p">}</span>
        
    <span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>핀을 구현하는것 자체는 키오스크에서 썼던 방식과 크게 차이는 없다. 다만 가장 큰 차이라면 Subtitle에 들어가는 내용이 좌표를 기반으로한 현재 위치를 보여주는 것이다.</p>

<blockquote>
  <p>다만 주의사항이 있다면, 1분안에 많은 request가 발생할경우 지도에 핀이 보이지 않는다.</p>
</blockquote>

<p>현재 좌표를 기반으로 주소를 호출하는 메서드인 <code class="language-plaintext highlighter-rouge">reverseGeocodeLocation</code>을 사용한다. 그리고 Completion Handler를 사용하는 이유는, 이것도 일종의 Apple의 REST API를 호출하는 개념이기 때문.</p>

<p>성공하면 Address정보가 나오게 된다. 주소를 길게 표현을 하는게 좋을까 하다가, 그냥 마지막 주소 예를 들면 한국이면 ~~로 이런식으로 표현을 하는게 좋을 것같아 이렇게 구현했다.</p>

<p>우선 시뮬레이터에서 일본, 미국으로 테스트했을때 둘의 지역표기가 달라서 thothoroughfare 단위를 사용했다.</p>

<p>그리고 pin의 좌표도 설정해주고, 지도에 핀을 박게 하였다.</p>

<h2 id="pin-선택시-이벤트-구현"><span class="me-2">pin 선택시 이벤트 구현</span><a href="#pin-선택시-이벤트-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="1-선택시-거리를-기준으로-구현"><span class="me-2">1. 선택시 거리를 기준으로 구현.</span><a href="#1-선택시-거리를-기준으로-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre> <span class="kd">func</span> <span class="nf">mapView</span><span class="p">(</span><span class="n">_</span> <span class="nv">mapView</span><span class="p">:</span> <span class="kt">MKMapView</span><span class="p">,</span> <span class="n">didSelect</span> <span class="nv">annotation</span><span class="p">:</span> <span class="kd">any</span> <span class="kt">MKAnnotation</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">let</span> <span class="nv">pin</span> <span class="o">=</span> <span class="n">annotation</span>
        <span class="k">let</span> <span class="nv">currentLocation</span> <span class="o">=</span> <span class="n">mapView</span><span class="o">.</span><span class="n">userLocation</span><span class="o">.</span><span class="n">location</span>
        
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">distance</span> <span class="o">=</span> <span class="n">currentLocation</span><span class="p">?</span><span class="o">.</span><span class="nf">distance</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="kt">CLLocation</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">pin</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">pin</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">fatalError</span><span class="p">(</span><span class="s">"Can't get distance from Pin"</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mf">100.0</span> <span class="p">{</span>
            <span class="n">rentButton</span><span class="o">.</span><span class="n">isHidden</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"구역 외 킥보드 접근"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"100m 를 넘어선 킥보드는 이용이 불가합니다."</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>
            <span class="n">alert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"확인"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">))</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/2e3fdf60-decd-4abf-8c0f-d7a670f05d61" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/2e3fdf60-decd-4abf-8c0f-d7a670f05d61" alt="Apr-25-2024 23-07-56" width="50%" height="50%" loading="lazy"></a></p>

<p>저때 거리는 123미터였다.</p>

<p>구현완료.</p>

<p>하지만 기본적으로는 보이게는 해야하기에 대여버튼을 눌렀을때 해당 로직이 구현이 되어야한다.</p>

<h3 id="2-대여-시-pin-삭제"><span class="me-2">2. 대여 시 pin 삭제.</span><a href="#2-대여-시-pin-삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>처음에는 무수히 많은 핀들중 어떻게 내가 선택한 핀만 확인할 수 있을까 고민을 했지만, 나의 배움의 부족으로 아이디어가 떠오르지 않았다.</p>

<p>그러다가 <a href="https://stackoverflow.com/questions/39206418/how-can-i-detect-which-annotation-was-selected-in-mapview">스택오버플로우</a>에서 내가 원하는 걸 찾았다.</p>

<p>바로 didSelect Method를 활용하는것이다.</p>

<p>보자마자 아차 싶었고, 바로 적용을 했다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="nv">selectedAnnotation</span><span class="p">:</span> <span class="kt">MKPointAnnotation</span><span class="p">?</span>

 <span class="kd">func</span> <span class="nf">mapView</span><span class="p">(</span><span class="n">_</span> <span class="nv">mapView</span><span class="p">:</span> <span class="kt">MKMapView</span><span class="p">,</span> <span class="n">didSelect</span> <span class="nv">view</span><span class="p">:</span> <span class="kt">MKAnnotationView</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">selectedAnnotation</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">annotation</span> <span class="k">as?</span> <span class="kt">MKPointAnnotation</span>
    <span class="p">}</span>


<span class="kd">func</span> <span class="nf">completedRent</span><span class="p">(</span><span class="n">didSelect</span> <span class="nv">annotation</span><span class="p">:</span> <span class="kd">any</span> <span class="kt">MKAnnotation</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">pin</span> <span class="o">=</span> <span class="n">annotation</span>
        <span class="n">mapView</span><span class="o">.</span><span class="nf">removeAnnotation</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><a href="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/226680a5-ab62-457e-9263-cdee52865bb0" class="popup img-link  shimmer"><img src="https://github.com/Haroldfromk/haroldfromk.github.io/assets/97341336/226680a5-ab62-457e-9263-cdee52865bb0" alt="Apr-26-2024 01-55-04" width="50%" height="50%" loading="lazy"></a></p>

<p>구현 완료.</p>

<h3 id="3-주행기록-data-저장"><span class="me-2">3. 주행기록 Data 저장.</span><a href="#3-주행기록-data-저장" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>실제 주행거리는 아니지만 좌표로 계산해서 이런 기능만 보여주려고 만들었다.</p>

<p>물론 일정한 시간마다 거리계산용 배열에 좌표값을 계속 추가해준다면, 실제 이동한 거리 구현도 가능하다.</p>

<p>하지만 튜터님께 여쭤본 결과 지금 프로젝트 단계에서는 이정도 구현도 충분하다고 하셨기에, 여기서 멈춘다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="nv">locations</span><span class="p">:</span> <span class="p">[</span><span class="kt">CLLocationCoordinate2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// 거리 계산용 배열</span>

<span class="c1">// 거리계산 함수.</span>
    <span class="kd">func</span> <span class="nf">calculateTripDistance</span><span class="p">()</span> <span class="p">{</span>
        
        <span class="k">var</span> <span class="nv">total</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..&lt;</span><span class="n">locations</span><span class="o">.</span><span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">{</span>
            <span class="k">let</span> <span class="nv">start</span> <span class="o">=</span> <span class="n">locations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">end</span> <span class="o">=</span> <span class="n">locations</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="k">let</span> <span class="nv">distance</span> <span class="o">=</span> <span class="nf">getDistance</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="n">end</span><span class="p">)</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="n">distance</span>
        <span class="p">}</span>
       
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">getDistance</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CLLocationDistance</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">from</span> <span class="o">=</span> <span class="kt">CLLocation</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">from</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">from</span><span class="o">.</span><span class="n">longitude</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">to</span> <span class="o">=</span> <span class="kt">CLLocation</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">to</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">to</span><span class="o">.</span><span class="n">longitude</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">from</span><span class="o">.</span><span class="nf">distance</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="n">to</span><span class="p">)</span>
    <span class="p">}</span>

<span class="c1">// 대여시</span>
<span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">didTapRentButton</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">rentProcessAlert</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"대여 진행"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"해당 킥보드를 이용하시겠습니까?"</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>
        
        <span class="k">let</span> <span class="nv">rent</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"대여하기"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">completedRent</span><span class="p">(</span><span class="nv">didSelect</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">selectedAnnotation</span><span class="o">!</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="k">let</span> <span class="nv">coordinate</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">selectedAnnotation</span><span class="p">?</span><span class="o">.</span><span class="n">coordinate</span> <span class="p">{</span> <span class="c1">// new</span>
                <span class="k">self</span><span class="o">.</span><span class="n">locations</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">coordinate</span><span class="p">)</span>
            <span class="p">}</span>
            
            <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
                
                <span class="k">self</span><span class="o">.</span><span class="n">isUsed</span> <span class="o">=</span> <span class="kc">true</span>
                <span class="k">self</span><span class="o">.</span><span class="nf">setbuttonHidden</span><span class="p">(</span><span class="nv">isStatus</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">isUsed</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">let</span> <span class="nv">cancel</span> <span class="o">=</span> <span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"취소"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
        
        <span class="n">rentProcessAlert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">cancel</span><span class="p">)</span>
        <span class="n">rentProcessAlert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="n">rent</span><span class="p">)</span>
        <span class="nf">present</span><span class="p">(</span><span class="n">rentProcessAlert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        
        
        
    <span class="p">}</span>
<span class="c1">// 반납시</span>
<span class="kd">@IBAction</span> <span class="kd">func</span> <span class="nf">returnScooterBtn</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">DispatchQueue</span><span class="o">.</span><span class="nf">global</span><span class="p">()</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span>
            <span class="k">if</span> <span class="kt">CLLocationManager</span><span class="o">.</span><span class="nf">locationServicesEnabled</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">locationManager</span><span class="o">.</span><span class="nf">requestWhenInUseAuthorization</span><span class="p">()</span>
                <span class="k">let</span> <span class="nv">currentLocation</span> <span class="o">=</span> <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">locationManager</span><span class="o">.</span><span class="n">location</span>
                
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="nf">addMark</span><span class="p">(</span><span class="nv">coordinate</span><span class="p">:</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">currentLocation</span><span class="p">?</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">latitude</span> <span class="p">??</span> <span class="mf">37.503702192</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">currentLocation</span><span class="p">?</span><span class="o">.</span><span class="n">coordinate</span><span class="o">.</span><span class="n">longitude</span> <span class="p">??</span> <span class="mf">127.025313873406</span><span class="p">))</span>
                <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">locations</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">currentLocation</span><span class="o">!.</span><span class="n">coordinate</span><span class="p">)</span>
            <span class="p">}</span>
            
        <span class="p">}</span>
        <span class="n">isUsed</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="nf">setbuttonHidden</span><span class="p">(</span><span class="nv">isStatus</span><span class="p">:</span> <span class="n">isUsed</span><span class="p">)</span>
        
        <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"반납완료"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="s">"킥보드 반납이 완료되었습니다.</span><span class="se">\n</span><span class="s">안녕히 가세요."</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>
        <span class="n">alert</span><span class="o">.</span><span class="nf">addAction</span><span class="p">(</span><span class="kt">UIAlertAction</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"확인"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">))</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">alert</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">distance</span> <span class="o">=</span> <span class="nf">calculateTripDistance</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">finTime</span> <span class="o">=</span> <span class="kt">Date</span><span class="o">.</span><span class="n">now</span>
        <span class="kt">RecordSingleton</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="kt">RecordModel</span><span class="p">(</span><span class="nv">distance</span><span class="p">:</span> <span class="n">distance</span><span class="p">,</span> <span class="nv">time</span><span class="p">:</span> <span class="n">finTime</span><span class="p">))</span>
    <span class="p">}</span>            
</pre></td></tr></tbody></table></code></div></div>

<p>대여시 거리계산용 배열에 좌표를 추가하고, 반납시 좌표를 추가하여, 그 둘의 값을 계산하는 시퀀스로 이루어 진다고 생각하면 된다.</p>

<p>위에도 적었지만 이걸 일정한 간격마다 계속 추가하고 함수를 계속 사용하여 Dispatchqueue를 사용하여 해당 내용을 어떤 View에 추가를 한다면,</p>

<p>실시간 이동거리를 계산 할 수도 있다.</p>

<p>이부분은 프로젝트 개조할때 해보는걸로…</p>

<h3 id="4-반납시-기록을-저장할-배열을-싱글턴으로-구현"><span class="me-2">4. 반납시 기록을 저장할 배열을 싱글턴으로 구현</span><a href="#4-반납시-기록을-저장할-배열을-싱글턴으로-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>위에 이미 마지막에 추가하는게 적혀있지만 그래도 사용하게된 이유를 적어보자면, 우선 싱글턴으로 구현을 해서 지도와, 마이페이지의 주행거리 쪽을 눌러서 확인할때 데이터를 굳이 왔다갔다 하는게 의미가 있나 싶어서 싱글턴을 사용하면 좋겠다 싶어 바로 구현을 했다.</p>

<p>키오스크때 사용을 해서 그런가, 바로 구현을 했다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="kd">class</span> <span class="kt">RecordSingleton</span> <span class="p">{</span>
    
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">shared</span> <span class="o">=</span> <span class="kt">RecordSingleton</span><span class="p">()</span>
    
    <span class="k">var</span> <span class="nv">array</span><span class="p">:</span> <span class="p">[</span><span class="kt">RecordModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="kt">RecordModel</span><span class="p">]()</span>
    
    <span class="kd">private</span> <span class="nf">init</span> <span class="p">()</span> <span class="p">{}</span>
    
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<h3 id="5-추가-대여-방지-로직-구현"><span class="me-2">5. 추가 대여 방지 로직 구현.</span><a href="#5-추가-대여-방지-로직-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>사실 이건 Boolean을 통해 대여하기 버튼을 보이지 않는 형식으로 단순하게 했다.</p>

<p><code class="language-plaintext highlighter-rouge">var isUsed: Bool = false</code></p>

<p>isUsed라는 값을 통해 유져가 사용중인지? 아닌지를 판단하고 그에따라 버튼을 보여줄지 말지를 결정하게 했다.</p>

<p>사실 추가대여 방지는 사용할때 바로 버튼을 다 보이지않게 숨기고, 그다음에 사용을 다하게 되면 보여주는 방식이 더 좋았지만</p>

<p>현재 기능 테스트에서는 단순히 버튼만 보여주고 말고만 하게 하였다.</p>

<div class="language-swift highlighter-rouge"><div class="code-header">
        <span data-label-text="Swift"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">// 대여의 상태를 보고 버튼을 숨기거나 보여줌</span>
    <span class="kd">func</span> <span class="nf">setbuttonHidden</span><span class="p">(</span><span class="nv">isStatus</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        
        <span class="k">if</span> <span class="o">!</span><span class="n">isStatus</span> <span class="p">{</span>  <span class="c1">// false 대여를 하지 않은 상태</span>
            <span class="n">rentButton</span><span class="o">.</span><span class="n">isHidden</span> <span class="o">=</span> <span class="kc">true</span> <span class="c1">// true인 이유는 평상시에도 숨기다가 킥보드를 클릭했을때 보여주게 하기위함.</span>
            <span class="n">returnButton</span><span class="o">.</span><span class="n">isHidden</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// 대여를 한 상태라면</span>
            <span class="n">rentButton</span><span class="o">.</span><span class="n">isHidden</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="n">returnButton</span><span class="o">.</span><span class="n">isHidden</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>확인 완료.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%EC%BA%A0%ED%94%84/">캠프</a>,
          <a href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B82/">프로젝트2</a>
      </div>
    

    <!-- tags -->
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          이 기사는 저작권자의 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         라이센스를 따릅니다.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">공유하기</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%ED%82%A5%EB%B3%B4%EB%93%9C%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%204%EC%9D%BC%EC%B0%A8%20-%20Harold%60s%20DLog&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25ED%2582%25A5%25EB%25B3%25B4%25EB%2593%259C-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-4%25EC%259D%25BC%25EC%25B0%25A8%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%ED%82%A5%EB%B3%B4%EB%93%9C%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%204%EC%9D%BC%EC%B0%A8%20-%20Harold%60s%20DLog&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25ED%2582%25A5%25EB%25B3%25B4%25EB%2593%259C-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-4%25EC%259D%25BC%25EC%25B0%25A8%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2F%25ED%2582%25A5%25EB%25B3%25B4%25EB%2593%259C-%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8-4%25EC%259D%25BC%25EC%25B0%25A8%2F&text=%ED%82%A5%EB%B3%B4%EB%93%9C%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%204%EC%9D%BC%EC%B0%A8%20-%20Harold%60s%20DLog" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="링크 복사하기"
      data-title-succeed="링크가 복사되었습니다!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
<script src="https://utteranc.es/client.js"
  repo="haroldfromk/haroldfromk.github.io"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>

</article>



            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">최근 업데이트</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ObjectTest/">CartAppTest</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/(Deep-Dive)-Object/">(Deep Dive) @ObservedObject vs @StateObject</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_6/">TourApp (6)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_5/">TourApp (5)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/TourApp_4/">TourApp (4)</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">바로가기</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">관련된 글</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-1%EC%9D%BC%EC%B0%A8/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713776400"
  data-df="YYYY/MM/DD"
  
>
  2024/04/22
</time>

              <h4 class="pt-0 my-2">킥보드 프로젝트 1일차</h4>
              <div class="text-muted">
                <p>
                  





                  일주일간 새로운 팀프로젝트가 시작된다.

이번엔 좀 더 다양한 기능을 사용할 수 있게된 프로젝트이다.

이번에 내가 기본기능에서 담당하는건, 반납 기능이다.

반납을할때 pin을 꽂으면 될 듯 하다.

그리고 대여값에 있던 내용을 지워주면 되기에 해당기능은 얼추 진행이 되었을 때 연결하면 될 듯하다.

테스트용 지도 구현.

우선 빈프로젝트에 해당 기...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-2%EC%9D%BC%EC%B0%A8/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713862800"
  data-df="YYYY/MM/DD"
  
>
  2024/04/23
</time>

              <h4 class="pt-0 my-2">킥보드 프로젝트 2일차</h4>
              <div class="text-muted">
                <p>
                  





                  Kakao Map API V2를 사용하려 했으나,

Docs대로 구현 하던 중 메서드가 먹히지 않아 searchBar에 대한 부분만 해보려 한다.

우선 검색을 했을때 해당 주소의 지역의 값을 가져오게 하려고 한다.

searchBar 기능 구현

extension ViewController: UISearchBarDelegate {
    
    f...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%ED%82%A5%EB%B3%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-3%EC%9D%BC%EC%B0%A8/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713949200"
  data-df="YYYY/MM/DD"
  
>
  2024/04/24
</time>

              <h4 class="pt-0 my-2">킥보드 프로젝트 3일차</h4>
              <div class="text-muted">
                <p>
                  





                  프로젝트 3일차 각 팀원분들이 올려준걸 머지를 어떻게 하는지 알려주고나니 슬슬 틀이 잡혀지는게 보인다.

약간의 추가기능 느낌이지만, 이부분은 어떻게 보면 나름 필수 기능이라고 생각해서 이부분에 대해 작성을 해보려 한다.

현재위치에서 가장 가까운 Marker와의 거리를 구하는 로직 구현.

let pins = mapView.annotations
le...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3-%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3-3%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1/"
      class="btn btn-outline-primary"
      aria-label="이전 글"
    >
      <p>킥보드 프로젝트 3일차</p>
    </a>
  

  
    <a
      href="/posts/%E1%84%8F%E1%85%B5%E1%86%A8%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3-%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3-5%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1/"
      class="btn btn-outline-primary"
      aria-label="다음 글"
    >
      <p>킥보드 프로젝트 5일차</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2024</time>

    
      <a href="https://github.com/haroldfromk">Dongik Song</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다."
      >일부 권리 보유</span>
    
  </p>

  <p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">인기 태그</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8/">코딩테스트</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%EC%A4%91/">보류중</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">SwiftUI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/myself/">Myself</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B3%B4%EB%A5%98%ED%96%88%EB%8D%98%EB%AC%B8%EC%A0%9C/">보류했던문제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%BC%EC%A0%9C/">과제</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/api/">API</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/networking/">Networking</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%BC%EA%B5%AC/">야구</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/git/">Git</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      업데이트
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/ko.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  





    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

