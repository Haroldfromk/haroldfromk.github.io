---
title: HP Trivia (2)
writer: Harold
date: 2025-6-14 7:33:00 +0800
categories: [Udemy, SwiftUI]
tags: [SwiftUI]

toc: true
toc_sticky: true
---

## Audio

이제 이전 글에서 구현한 transition animation 효과에 맞춰 사운드를 재생시켜서, 유저에게 시각뿐 아니라 청각적으로도 몰입감을 줄 수 있도록 해보려한다.

```swift
import AVKit

@State private var audioPlayer: AVAudioPlayer!

.onAppear {
    animateViewsIn = true
    playAudio()
}

private func playAudio() {
    let sound = Bundle.main.path(forResource: "magic-in-the-air", ofType: "mp3")
    audioPlayer = try! AVAudioPlayer(contentsOf: URL(filePath: sound!))
    audioPlayer.numberOfLoops = -1
    audioPlayer.play()
}
```

이게 추가된 코드이다.

Audio를 재생하기위해 AVKit이 반드시 필요하고

사실 포커스는 `playAudio`에 두면 된다.

파일경로 지정과 audioplayer에게 어떤 파일을 재생할지 설정을 한다.

[numberOfLoops Docs](https://developer.apple.com/documentation/avfaudio/avaudioplayer/numberofloops){:target="_blank"}에 보면 

- 0: 사운드를 한 번만 재생 (기본값)
- 양수: 해당 값만큼 반복 재생 (예: 1 → 총 2번 재생)
- 음수: 무한 반복 재생 (stop()을 호출할 때까지 반복)

라고 되어있다.

- 참고
    - [AVKit Docs](https://developer.apple.com/documentation/avkit){:target="_blank"}
    - [AVAudioPlayer Docs](https://developer.apple.com/documentation/avfaudio/avaudioplayer){:target="_blank"}

한번 읽어보도록 하자.

