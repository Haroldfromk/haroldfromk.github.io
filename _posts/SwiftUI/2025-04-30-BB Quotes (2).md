---
title: BB Quotes (2)
writer: Harold
date: 2025-4-30 7:33:00 +0800
categories: [Udemy, SwiftUI]
tags: [SwiftUI]

toc: true
toc_sticky: true
---

## ì‹¤ì œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°

```swift
class ViewModel {
    // ìƒëµ
    
    func getData(for show: String) async {
        status = .fetching
        
        do {
            quote = try await fetcher.fetchQuote(from: show)
            
            character = try await fetcher.fetchCharacter(quote.character)
            
            character.death = try await fetcher.fetchDeath(for: character.name)
            
            status = .success
        } catch {
            status = .failed(error: error)
        }
    }
}
```

ê°„ë‹¨í•˜ë‹¤.

ì´ì „ì— ë§Œë“¤ì—ˆë˜ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê·¸ëƒ¥ ë§Œë“¤ì–´ ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

## Viewì— ì ìš©í•˜ê¸°

ì´ì œ fetch ì¤€ë¹„ëŠ” ëª¨ë‘ ëë‚¬ìœ¼ë‹ˆ contentviewì— ì ìš©ì„ í•˜ì—¬ ë°ì´í„°ë¥¼ í™”ë©´ì— ë„ì›Œë³´ì.

ì´ê²ƒë„ í¬ê²Œ ë­ ì–¸ê¸‰í• ê²ƒì€ ì—†ì–´ ë³´ì´ê¸´ í•œë‹¤.

QuoteViewë¥¼ ë§Œë“¤ì–´ ì£¼ê³  ì—¬ê¸°ì— ì ìš©ì„ í•  ê²ƒì´ë‹¤.

![Image](https://github.com/user-attachments/assets/aae78868-9937-4a58-aeac-954dc91f2816){: width="50%" height="50%"} 

ì´ë ‡ê²Œ ë””ìì¸ì„ í•  ì˜ˆì •ì´ë‹¤.

```swift
struct QuoteView: View {
    let vm = ViewModel()
    let show: String
    
    var body: some View {
        GeometryReader { geo in
            ZStack {
                Image(show.lowercased().replacingOccurrences(of: " ", with: ""))
                    .resizable()
                    .frame(width: geo.size.width * 2.7, height: geo.size.height * 1.2)
                
                VStack {
                    Text("\"\(vm.quote.quote)\"")
                        .multilineTextAlignment(.center)
                        .foregroundStyle(.white)
                        .padding()
                        .background(.black.opacity(0.5))
                        .clipShape(.rect(cornerRadius: 25))
                        .padding(.horizontal)
                    
                    ZStack(alignment: .bottom) {
                        AsyncImage(url: vm.character.images[0]) { image in
                            image
                                .resizable()
                                .scaledToFill()
                        } placeholder: {
                            ProgressView()
                        }
                        .frame(width: geo.size.width / 1.1, height: geo.size.height / 1.8)
                        
                        Text(vm.quote.character)
                            .foregroundStyle(.white)
                            .padding(10)
                            .frame(maxWidth: .infinity)
                            .background(.ultraThinMaterial)

                    }
                    .frame(width: geo.size.width / 1.1, height: geo.size.height / 1.8)
                    .clipShape(.rect(cornerRadius: 50))
                    
                    Button("Get Random Quote") {
                        
                    }
                    .font(.title)
                    .foregroundStyle(.white)
                    .padding()
                    .background(.green)
                }
                .frame(width: geo.size.width)
            }
            .frame(width: geo.size.width, height: geo.size.height)
        }
        .ignoresSafeArea()
    }
}
```

ë­ ë”±íˆ ì½”ë“œì— ëŒ€í•´ ì–¸ê¸‰í• ê±´ ì—†ì–´ë³´ì¸ë‹¤.

Asyncimageê°€ ê°„ë§Œì— ë‚˜ì™”ëŠ”ë° ì´ê²ƒë„ [ì´ì „ì—](https://haroldfromk.github.io/posts/Asyncimage/){:target="_blank"} ì–¸ê¸‰í•œì ì´ ìˆìœ¼ë‹ˆ íŒ¨ìŠ¤

![Image](https://github.com/user-attachments/assets/c8ea5771-588a-4424-b50d-a880c8dc0b94){: width="50%" height="50%"} 

í˜„ì¬ê¹Œì§€ ì‘ì„±ëœ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ UI

### Custom Color ë§Œë“¤ê¸°

ë²„íŠ¼ìª½ ì´ˆë¡ìƒì´ ì¨í•´ì„œ Custom Colorë¥¼ ë§Œë“¤ì–´ë³¸ë‹¤.

![Image](https://github.com/user-attachments/assets/7ff75034-d6fd-4a3d-bd33-e59241259b6e)

Assetì—ì„œ +ë¥¼ ëˆŒëŸ¬ Colorsetì„ ì¶”ê°€í•´ì¤€ë‹¤.

![Image](https://github.com/user-attachments/assets/be250768-9b77-4445-a0fe-c6a6b81a9258) ê·¸ë¦¬ê³  appearancesì—ì„œ ìš°ë¦¬ëŠ” êµ³ì´ light, darkë¥¼ ë‚˜ëˆ„ì§€ ì•Šìœ¼ë¯€ë¡œ noneìœ¼ë¡œ í•´ì¤€ë‹¤.

panelì˜ ìŠ¤í¬ì´ë“œë¥¼ ì´ìš©í•´ì„œ

![Image](https://github.com/user-attachments/assets/6e808620-d845-4f00-a70e-f987203a26a6)

ì´ë ‡ê²Œ ì›í•˜ëŠ” ì‚¬ì§„ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```swift
struct QuoteView: View {
    let vm = ViewModel()
    let show: String
    
    var body: some View {
        GeometryReader { geo in
            ZStack {
                // ìƒëµ
                VStack {
                    Spacer()
                    // ìƒëµ
                    ZStack(alignment: .bottom) {
                        // ìƒëµ
                    }
                    .frame(width: geo.size.width / 1.1, height: geo.size.height / 1.8)
                    .clipShape(.rect(cornerRadius: 50))
                    
                    Spacer()
                    
                    Button {
                        
                    } label: {
                        Text("Get Random Quote")
                            .font(.title)
                            .foregroundStyle(.white)
                            .padding()
                            .background(.breakingBadGreen)
                            .clipShape(.rect(cornerRadius: 7))
                            .shadow(color: .breakingBadYellow, radius: 2)
                    }
                    
                    Spacer(minLength: 95)
                }
                .frame(width: geo.size.width, height: geo.size.height)
            }
            .frame(width: geo.size.width, height: geo.size.height)
        }
        .ignoresSafeArea()
    }
}
```

ì—¬ê¸°ì„œ ë³´ë©´ Z,VStackì— ëª¨ë‘ ë˜‘ê°™ì€ frameì„ ì ìš©í–ˆë‹¤ ê·¸ì´ìœ ë¥¼ ë³´ì.

1. ë‘˜ ë‹¤ frame ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° (spacerëŠ” í˜„ì¬ ì£¼ì„ìœ¼ë¡œ disable í•´ë‘” ìƒíƒœ)
![Image](https://github.com/user-attachments/assets/9ece0087-afcd-4923-94d8-9d94b62b2c92){: width="50%" height="50%"} 
2. ZStackì—ë§Œ í•œ ê²½ìš° (spacerëŠ” í˜„ì¬ ì£¼ì„ìœ¼ë¡œ disable í•´ë‘” ìƒíƒœ)
![Image](https://github.com/user-attachments/assets/c9c48857-fb4a-4408-8216-813da84e8cd0){: width="50%" height="50%"} 
3. ë‘˜ ë‹¤ frame ì„¤ì •ì„ í•œ ê²½ìš°
![Image](https://github.com/user-attachments/assets/efcee1dd-9197-4119-8bb8-3c4fb1c6e7d5){: width="50%" height="50%"} 

#### ğŸ§± GeometryReader + ZStack + VStackì˜ frame ì²˜ë¦¬ ìš”ì•½

##### 1ï¸âƒ£ ZStackì— `.frame(width: geo.size.width, height: geo.size.height)`ë¥¼ ì¤€ ì´ìœ 
- `GeometryReader`ë¥¼ ì“°ë©´ ê¸°ì¤€ ì¢Œí‘œê°€ **ì¢Œì¸¡ ìƒë‹¨**ìœ¼ë¡œ ì´ë™í•˜ì—¬ í™”ë©´ êµ¬ì„± ì¤‘ì‹¬ì´ ì–´ê¸‹ë‚¨
- ì´ë¥¼ ë³´ì •í•˜ê¸° ìœ„í•´ `ZStack`ì— frameì„ ì§€ì •í•˜ì—¬ **ì „ì²´ ë·° ì¤‘ì•™ì„ ê¸°ì¤€**ìœ¼ë¡œ ë‹¤ì‹œ ì¡ì•„ì¤Œ

##### 2ï¸âƒ£ ZStack ë‚´ë¶€ `Image`ê°€ `.frame(width: geo.size.width * 2.7, height: geo.size.height * 1.2)`ë¡œ í¬ê²Œ ì§€ì •ëœ ì´ìœ 
- ë°°ê²½ ì´ë¯¸ì§€ë¥¼ í™”ë©´ë³´ë‹¤ **í¬ê²Œ í™•ëŒ€**í•˜ì—¬ ì•½ê°„ì˜ ìŠ¤í¬ë¡¤ ì—¬ìœ  ê³µê°„ê³¼ **ì‹œê°ì  íš¨ê³¼**ë¥¼ ì£¼ê¸° ìœ„í•¨
- ë¬¸ì œëŠ” ì´ë ‡ê²Œ í™•ëŒ€ëœ ì´ë¯¸ì§€ê°€ **ë¶€ëª¨ ë·°(ZStack)ì˜ frameì„ ë®ì–´ì”Œì›€**
  - â†’ SwiftUIëŠ” ìì‹ ë·°ê°€ ë¶€ëª¨ë³´ë‹¤ í¬ë©´, ë¶€ëª¨ì˜ ì‹¤ì œ ë Œë”ë§ ì˜ì—­ë„ ê·¸ í¬ê¸°ë¥¼ ë”°ë¼ê°

##### 3ï¸âƒ£ VStackì— `.frame(width: geo.size.width, height: geo.size.height)`ë¥¼ ë”°ë¡œ ì¤€ ì´ìœ 
- ì´ë¯¸ì§€ë¡œ ì¸í•´ ZStackì˜ í¬ê¸°ê°€ ì»¤ì¡Œê³ , `VStack`ì€ ìì‹ ë·° í¬ê¸°ë¥¼ ë”°ë¼ **ìë™ í™•ì¥**
- â†’ ë²„íŠ¼ì´ë‚˜ í…ìŠ¤íŠ¸ ë“±ì´ **í™”ë©´ ë°–ìœ¼ë¡œ ë°€ë ¤ë‚¨**
- ê·¸ë˜ì„œ VStackì—ë„ ê³ ì • frameì„ ì¤˜ì„œ **ì½˜í…ì¸  ì˜ì—­ì„ í™”ë©´ í¬ê¸°ë¡œ ì œí•œ**

---

#### âœ… ìµœì¢… ì •ë¦¬

| ë·°       | ì—­í• ê³¼ ì´ìœ  |
|----------|-------------|
| `ZStack.frame(...)` | GeometryReader ê¸°ì¤€ì„ ì¤‘ì•™ìœ¼ë¡œ ê³ ì •í•˜ê¸° ìœ„í•´ |
| `Image.frame(... *2.7, *1.2)` | ì‹œê°ì ìœ¼ë¡œ ë„“ì€ ë°°ê²½ ì œê³µ (í•˜ì§€ë§Œ ë·° í¬ê¸° í™•ì¥ë¨) |
| `VStack.frame(...)` | ì´ë¯¸ì§€ì— ì˜í•´ ëŠ˜ì–´ë‚œ í¬ê¸°ë¥¼ ë¬´ì‹œí•˜ê³ , VStackì˜ ì½˜í…ì¸ ë¥¼ í™”ë©´ ì•ˆì— ê³ ì •í•˜ê¸° ìœ„í•´ í•„ìš” |