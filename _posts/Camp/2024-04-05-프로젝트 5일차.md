---
title: í”„ë¡œì íŠ¸ 5ì¼ì°¨
writer: Harold
date: 2024-04-05 11:00
last_modified_at: 2024-04-04 23:11
categories: [ìº í”„, í”„ë¡œì íŠ¸1]
tags: []

toc: true
toc_sticky: true
---

5ì¼ì°¨ë‹¤ ì²˜ìŒì—ëŠ” ë°±ì§€ì˜€ë˜ ê·¸ë¦¼ì´ ì‹œê°„ì„ ì§€ë‚˜ ì ì  ëšœë ·í•˜ê²Œ ë³´ì´ê¸° ì‹œì‘í•œë‹¤.

ì´ì   í¬ê²Œ ì¤‘ìš”í•˜ì§„ ì•Šìœ¼ë‚˜ ìˆìœ¼ë©´ ì¢‹ì„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤í•œë‹¤.

## ì‹ ìƒí‘œì‹œ

ìš°ì„  Modelì— ì‹ ìƒì¸ì§€ ì•„ë‹Œì§€ë¥¼ íŒë³„í•  Bool Typeì˜ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤.

```swift
struct AppleProduct {
    
    let image: UIImage?
    let name: String
    let price: Int
    let category: String
    var value: Int 
    var isNew: Bool // new
    
}
```

CollectionViewë‚´ì— ìƒˆë¡œìš´ labelì„ ë§Œë“¤ì—ˆë‹¤.

ì½”ë“œë¡œ ì‘ì„±ëœ ë””ìì¸ì´ê¸°ì— ê·¸ì— ë§ì¶° ì‘ì„±í–ˆë‹¤.

ê·¸ë¦¬ê³  ì»¬ë ‰ì…˜ ë·°ì— ì ìš©í•´ì•¼í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ extensionìœ¼ë¡œ ê¸°ëŠ¥ì„ í™•ì¥í•´ì¤€ë‹¤.

í•´ë‹¹ ì½”ë“œëŠ” ì €ë²ˆì˜ ToDoListì—ì„œ ê°€ì ¸ì™”ë‹¤.

```swift
extension UIView {
    func blink() {
        self.alpha = 0.7;
        UIView.animate(withDuration: 0.5, //Time duration you want,
                       delay: 0.0,
                       options: [.curveEaseInOut, .autoreverse, .repeat],
                       animations: { [weak self] in self?.alpha = 0.0 },
                       completion: { [weak self] _ in self?.alpha = 1.0 })
    }
    
    func stopBlink() {
        layer.removeAllAnimations()
        alpha = 1
    }
}
```

ê·¸ë¦¬ê³  ì‹ ìƒí’ˆì— ëŒ€í•´ì„œ trueë¡œ í•´ì£¼ê³  ì»¬ë ‰ì…˜ë·° ì…€ì„ ë‹´ë‹¹í•˜ëŠ” ì½”ë“œë¡œ ê°€ì„œ

```swift
func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
        let cell = collectionView.dequeueReusableCell(withReuseIdentifier: Constants.contentName, for: indexPath) as! ProductCell
        let product = filteredProducts[indexPath.item]
        cell.configure(with: product)
        //new
        if product.isNew {
            cell.newLabel.isHidden = false
            cell.newLabel.blink()
        } else {
            cell.newLabel.isHidden = true
        }
        
        return cell
    }
```

ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ì„ í•´ì¤€ë‹¤.

ì´ë ‡ê²Œ ì‹¤í–‰í•˜ë©´ ì²˜ìŒì—ëŠ” ë³´ì—¬ì§€ë‚˜ ë‘ë²ˆì§¸ì—ì„œëŠ” ì´í™íŠ¸ ì—†ì´ Labelë§Œ ë‚˜ì˜¤ê²Œëœë‹¤.

VCì˜ ìƒëª…ì£¼ê¸°ë¥¼ ì´ìš©í•˜ì—¬

```swift
override func viewWillAppear(_ animated: Bool) {
        mainCollectionView.reloadData()
    }
```

ë¡œë“œë¥¼ ìƒˆë¡œ í•´ì¤€ë‹¤.

<img src="https://i.ibb.co/vHYFcyV/Apr-05-2024-11-49-52.gif" alt="Apr-05-2024-11-49-52" width="250">

ì™„ë£Œ.

í•˜ì§€ë§Œ ë¬¸ì œì ì€ ì…€ì˜ í¬ê¸°ëŠ” ê°™ì§€ë§Œ, ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆê°€ ê°ê° ë‹¤ë¥´ê¸°ì— ì´ë¯¸ì§€ê°€ Labelì„ ê°€ë¦¬ëŠ” ê²½ìš°ê°€ ìƒê¸´ë‹¤.

ì´ë¶€ë¶„ì€ ì´ë¯¸ì§€ ì¡°ì ˆì´ í•„ìš”í• ë“¯í•˜ë‹¤.

## ì§€ë„ êµ¬í˜„.

ë­”ê°€ ë” íŠ¹ìƒ‰ìˆê²Œ í•˜ëŠ”ê²Œ ë‚«ì§€ ì•Šì„ê¹Œ ì‹¶ì–´ ì§€ë„ë¥¼ êµ¬í˜„í•œë‹¤.

ì½”ë“œë¡œ VCë¥¼ êµ¬í˜„í•˜ë ¤ë‹¤ AutoLayoutì´ ë§ì½ì„ ì¼ìœ¼ì¼œ StoryBoard ë¡œ ëŒ€ì²´í•œë‹¤.

CallCenterVCì— ì•„ë˜ì™€ ê°™ì´ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì¤€ë‹¤.

```swift
func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        if indexPath.row == 0 {
            if let mapVC = self.storyboard?.instantiateViewController(identifier: Constants.mapVC) as? MapViewController {
                
                self.present(mapVC, animated: true)
            }
        }
    }
```

ì²«ë²ˆì§¸ê°€ ë§¤ì¥ì°¾ê¸°ì´ë¯€ë¡œ ì²«ë²ˆì§¸ í•´ë‹¹í•˜ëŠ”ê²ƒë§Œ í™”ë©´ì „í™˜ì„ í–ˆë‹¤.

```swift
import UIKit
import MapKit // new
import CoreData // new

class MapViewController: UIViewController {

    @IBOutlet weak var mapView: MKMapView!
    
    @IBOutlet weak var branchLabel: UILabel!
    
    let coordinates = CLLocationCoordinate2D(
        latitude: 37.503702192, longitude: 127.025313873406
    )
    
    override func viewDidLoad() {
        super.viewDidLoad()
        mapView.setRegion(MKCoordinateRegion(center: coordinates, span: MKCoordinateSpan(latitudeDelta: 0.1, longitudeDelta: 0.1)), animated: false)
        
        addBranch()
        branchLabel.numberOfLines = 0
        branchLabel.text = "Fine Apple Store ê°•ë‚¨ì  \nì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ ğŸğŸğŸ"
    }
    
    func addBranch () {
        let pin = MKPointAnnotation()
        pin.title = "ğŸ Fine Apple Store ê°•ë‚¨ì "
        pin.subtitle = "ë³¸ì "
        pin.coordinate = coordinates
        mapView.addAnnotation(pin)
    }
    
}

```

ì§€ë„ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„  MapKitì€ í•„ìˆ˜ë¡œ ë¶ˆëŸ¬ì™€ì•¼í•œë‹¤.
í˜„ìœ„ì¹˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, GPSê°’ì„ ê°€ì ¸ì˜¤ëŠ”ê²ƒì´ ì•„ë‹Œ ì¢Œí‘œë¥¼ ì…ë ¥í•˜ì—¬ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ë¯€ë¡œ CoreDataê¹Œì§€ ê°€ì ¸ì˜¨ë‹¤.

ê·¸ë¦¬ê³¼ ì¢Œí‘œë¥¼ ì„¤ì •í•´ì£¼ê³ .

setRegionì„ í†µí•´ ì§€ë„ì—ì„œ ì–´ëŠìœ„ì¹˜ë¥¼ ë³´ì—¬ì§ˆì§€ ì •í•˜ê³ , MKCoordinateSpan ê°’ì´ í´ìˆ˜ë¡ ì§€ë„ì˜ ì¶•ì²™ì´ ì»¤ì§„ë‹¤.

(ë” ë„“ê²Œ ë³´ì¸ë‹¤ëŠ” ì˜ë¯¸)

ê°€ê¹Œìš´ ìœ„ì¹˜ë¥¼ ë³´ì—¬ì£¼ê¸°ìœ„í•´ 0.1ì”© ì£¼ì—ˆë‹¤.

ê·¸ë¦¬ê³  í•€ì„ ì¶”ê°€í•´ì£¼ê¸° ìœ„í•´ addBranchë¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.

<img src="https://i.ibb.co/QCTjdVp/simulator-screenshot-AD290751-A7-E2-44-E9-932-B-B76-B1-D2-B1-C12.png" alt="simulator-screenshot-AD290751-A7-E2-44-E9-932-B-B76-B1-D2-B1-C12" width="250">

í™•ì¸ ì™„ë£Œ.

ì´ì œ ì¶”ê°€í•  ê¸°ëŠ¥ì´ ë­ê°€ ìˆë‚˜ ì‹¶ë‹¤.